<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-2"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-3"></span><span class="hs-comment">--</span><span>
</span><span id="line-4"></span><span class="hs-comment">-- Module      :  Text.Regex.Posix</span><span>
</span><span id="line-5"></span><span class="hs-comment">-- Copyright   :  (c) Chris Kuklewicz 2006</span><span>
</span><span id="line-6"></span><span class="hs-comment">-- License     :  BSD-3-Clause</span><span>
</span><span id="line-7"></span><span class="hs-comment">--</span><span>
</span><span id="line-8"></span><span class="hs-comment">-- Maintainer  :  hvr@gnu.org, Andreas Abel</span><span>
</span><span id="line-9"></span><span class="hs-comment">-- Stability   :  stable</span><span>
</span><span id="line-10"></span><span class="hs-comment">-- Portability :  non-portable (regex-base needs MPTC+FD)</span><span>
</span><span id="line-11"></span><span class="hs-comment">--</span><span>
</span><span id="line-12"></span><span class="hs-comment">-- Module that provides the Regex backend that wraps the</span><span>
</span><span id="line-13"></span><span class="hs-comment">-- &lt;https://pubs.opengroup.org/onlinepubs/9699919799/basedefs/regex.h.html C POSIX.2 regex api&gt;.</span><span>
</span><span id="line-14"></span><span class="hs-comment">-- This is the backend being used by the &lt;//hackage.haskell.org/regex-compat regex-compat&gt; package to replace</span><span>
</span><span id="line-15"></span><span class="hs-comment">-- &quot;Text.Regex&quot;.</span><span>
</span><span id="line-16"></span><span class="hs-comment">--</span><span>
</span><span id="line-17"></span><span class="hs-comment">-- The &quot;Text.Regex.Posix&quot; module provides a backend for regular</span><span>
</span><span id="line-18"></span><span class="hs-comment">-- expressions. If you import this along with other backends, then</span><span>
</span><span id="line-19"></span><span class="hs-comment">-- you should do so with qualified imports, perhaps renamed for</span><span>
</span><span id="line-20"></span><span class="hs-comment">-- convenience.</span><span>
</span><span id="line-21"></span><span class="hs-comment">--</span><span>
</span><span id="line-22"></span><span class="hs-comment">-- If the '=~' and '=~~' functions are too high level, you can use the</span><span>
</span><span id="line-23"></span><span class="hs-comment">-- compile, regexec, and execute functions from importing either</span><span>
</span><span id="line-24"></span><span class="hs-comment">-- &quot;Text.Regex.Posix.String&quot; or &quot;Text.Regex.Posix.ByteString&quot;.  If you</span><span>
</span><span id="line-25"></span><span class="hs-comment">-- want to use a low-level 'Foreign.C.CString' interface to the library,</span><span>
</span><span id="line-26"></span><span class="hs-comment">-- then import &quot;Text.Regex.Posix.Wrap&quot; and use the wrap* functions.</span><span>
</span><span id="line-27"></span><span class="hs-comment">--</span><span>
</span><span id="line-28"></span><span class="hs-comment">-- This module is only efficient with 'Data.ByteString.ByteString' only</span><span>
</span><span id="line-29"></span><span class="hs-comment">-- if it is null terminated, i.e. @(Bytestring.last bs)==0@.  Otherwise the</span><span>
</span><span id="line-30"></span><span class="hs-comment">-- library must make a temporary copy of the 'Data.ByteString.ByteString'</span><span>
</span><span id="line-31"></span><span class="hs-comment">-- and append the @NUL@ byte.</span><span>
</span><span id="line-32"></span><span class="hs-comment">--</span><span>
</span><span id="line-33"></span><span class="hs-comment">-- A 'String' will be converted into a 'Foreign.C.CString' for processing.</span><span>
</span><span id="line-34"></span><span class="hs-comment">-- Doing this repeatedly will be very inefficient.</span><span>
</span><span id="line-35"></span><span class="hs-comment">--</span><span>
</span><span id="line-36"></span><span class="hs-comment">-- Note that the posix library works with single byte characters, and</span><span>
</span><span id="line-37"></span><span class="hs-comment">-- does not understand Unicode.  If you need Unicode support you will</span><span>
</span><span id="line-38"></span><span class="hs-comment">-- have to use a different backend.</span><span>
</span><span id="line-39"></span><span class="hs-comment">--</span><span>
</span><span id="line-40"></span><span class="hs-comment">-- When offsets are reported for subexpression captures, a subexpression</span><span>
</span><span id="line-41"></span><span class="hs-comment">-- that did not match anything (as opposed to matching an empty string)</span><span>
</span><span id="line-42"></span><span class="hs-comment">-- will have its offset set to the 'unusedRegOffset' value, which is @(-1)@.</span><span>
</span><span id="line-43"></span><span class="hs-comment">--</span><span>
</span><span id="line-44"></span><span class="hs-comment">-- Benchmarking shows the default regex library on many platforms is very</span><span>
</span><span id="line-45"></span><span class="hs-comment">-- inefficient.  You might increase performace by an order of magnitude</span><span>
</span><span id="line-46"></span><span class="hs-comment">-- by obtaining @libpcre@ and &lt;//hackage.haskell.org/package/regex-pcre regex-pcre&gt;</span><span>
</span><span id="line-47"></span><span class="hs-comment">-- or @libtre@ and &lt;//hackage.haskell.org/package/regex-tre regex-tre&gt;.  If you</span><span>
</span><span id="line-48"></span><span class="hs-comment">-- do not need the captured substrings then you can also get great</span><span>
</span><span id="line-49"></span><span class="hs-comment">-- performance from &lt;//hackage.haskell.org/package/regex-dfa regex-dfa&gt;.  If you do need the capture substrings</span><span>
</span><span id="line-50"></span><span class="hs-comment">-- then you may be able to use &lt;//hackage.haskell.org/package/regex-parsec regex-parsec&gt; to improve performance.</span><span>
</span><span id="line-51"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-52"></span><span>
</span><span id="line-53"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Text.Regex.Posix</span><span class="hs-special">(</span><span class="annot"><a href="Text.Regex.Posix.html#getVersion_Text_Regex_Posix"><span class="hs-identifier">getVersion_Text_Regex_Posix</span></a></span><span>
</span><span id="line-54"></span><span> </span><span class="hs-special">,</span><span class="hs-keyword">module</span><span> </span><span class="annot"><span class="hs-identifier">Text.Regex.Base</span></span><span>
</span><span id="line-55"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Wrap, for '=~' and '=~~', types and constants</span></span><span>
</span><span id="line-56"></span><span> </span><span class="hs-special">,</span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="Text.Regex.Posix.Wrap.html"><span class="hs-identifier">Text.Regex.Posix.Wrap</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-57"></span><span>
</span><span id="line-58"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Prelude</span></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">fail</span></span><span class="hs-special">)</span><span>
</span><span id="line-59"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Fail</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">MonadFail</span></span><span class="hs-special">)</span><span>
</span><span id="line-60"></span><span>
</span><span id="line-61"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Text.Regex.Posix.Wrap.html"><span class="hs-identifier">Text.Regex.Posix.Wrap</span></a></span><span class="hs-special">(</span><span class="annot"><a href="Text.Regex.Posix.Wrap.html#Regex"><span class="hs-identifier">Regex</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.Regex.Posix.Wrap.html#CompOption"><span class="hs-identifier">CompOption</span></a></span><span class="hs-special">(</span><span class="annot"><a href="Text.Regex.Posix.Wrap.html#CompOption"><span class="hs-identifier">CompOption</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-62"></span><span>  </span><span class="annot"><a href="Text.Regex.Posix.Wrap.html#ExecOption"><span class="hs-identifier">ExecOption</span></a></span><span class="hs-special">(</span><span class="annot"><a href="Text.Regex.Posix.Wrap.html#ExecOption"><span class="hs-identifier">ExecOption</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.Regex.Posix.Wrap.html#%3D~"><span class="hs-operator">(=~)</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.Regex.Posix.Wrap.html#%3D~~"><span class="hs-operator">(=~~)</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-63"></span><span>  </span><span class="annot"><a href="Text.Regex.Posix.Wrap.html#unusedRegOffset"><span class="hs-identifier">unusedRegOffset</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-64"></span><span>  </span><span class="annot"><a href="Text.Regex.Posix.Wrap.html#compBlank"><span class="hs-identifier">compBlank</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.Regex.Posix.Wrap.html#compExtended"><span class="hs-identifier">compExtended</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.Regex.Posix.Wrap.html#compIgnoreCase"><span class="hs-identifier">compIgnoreCase</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.Regex.Posix.Wrap.html#compNoSub"><span class="hs-identifier">compNoSub</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.Regex.Posix.Wrap.html#compNewline"><span class="hs-identifier">compNewline</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-65"></span><span>  </span><span class="annot"><a href="Text.Regex.Posix.Wrap.html#execBlank"><span class="hs-identifier">execBlank</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.Regex.Posix.Wrap.html#execNotBOL"><span class="hs-identifier">execNotBOL</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Text.Regex.Posix.Wrap.html#execNotEOL"><span class="hs-identifier">execNotEOL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-66"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Text.Regex.Posix.String.html"><span class="hs-identifier">Text.Regex.Posix.String</span></a></span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-67"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Text.Regex.Posix.Sequence.html"><span class="hs-identifier">Text.Regex.Posix.Sequence</span></a></span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-68"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Text.Regex.Posix.ByteString.html"><span class="hs-identifier">Text.Regex.Posix.ByteString</span></a></span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-69"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Text.Regex.Posix.ByteString.Lazy.html"><span class="hs-identifier">Text.Regex.Posix.ByteString.Lazy</span></a></span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-70"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Version</span></span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Version</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-71"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Text.Regex.Base</span></span><span>
</span><span id="line-72"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Paths_regex_posix.html"><span class="hs-identifier">Paths_regex_posix</span></a></span><span>
</span><span id="line-73"></span><span>
</span><span id="line-74"></span><span class="annot"><a href="Text.Regex.Posix.html#getVersion_Text_Regex_Posix"><span class="hs-identifier hs-type">getVersion_Text_Regex_Posix</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Version</span></span><span>
</span><span id="line-75"></span><span id="getVersion_Text_Regex_Posix"><span class="annot"><span class="annottext">getVersion_Text_Regex_Posix :: Version
</span><a href="Text.Regex.Posix.html#getVersion_Text_Regex_Posix"><span class="hs-identifier hs-var hs-var">getVersion_Text_Regex_Posix</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Version
</span><a href="Paths_regex_posix.html#version"><span class="hs-identifier hs-var">Paths_regex_posix.version</span></a></span><span>
</span><span id="line-76"></span></pre></body></html>