<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE CPP #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE PatternSynonyms #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE TupleSections #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE ViewPatterns #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# OPTIONS_GHC -Wno-missing-fields -Wno-name-shadowing -Wno-unused-imports #-}</span><span>
</span><span id="line-6"></span><span>
</span><span id="line-7"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">PyF.Internal.ParserEx</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PyF.Internal.ParserEx.html#fakeSettings"><span class="hs-identifier">fakeSettings</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="PyF.Internal.ParserEx.html#fakeLlvmConfig"><span class="hs-identifier">fakeLlvmConfig</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="PyF.Internal.ParserEx.html#parseExpression"><span class="hs-identifier">parseExpression</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-8"></span><span>
</span><span id="line-9"></span><span class="hs-comment">{- ORMOLU_DISABLE -}</span><span class="hs-cpp">

#if MIN_VERSION_ghc(9,6,0)
</span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.Settings.Config</span></span><span>
</span><span id="line-13"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.CmmToLlvm.Config</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">LlvmConfig</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-14"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.Utils.Fingerprint</span></span><span>
</span><span id="line-15"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.Platform</span></span><span>
</span><span id="line-16"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.Settings</span></span><span class="hs-cpp">
#elif MIN_VERSION_ghc(9,0,0)
</span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">GHC.Settings.Config</span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">GHC.Driver.Session</span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">GHC.Utils.Fingerprint</span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">GHC.Platform</span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">GHC.Settings</span><span class="hs-cpp">
#elif MIN_VERSION_ghc(8, 10, 0)
</span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Config</span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">DynFlags</span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Fingerprint</span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">GHC.Platform</span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">ToolSettings</span><span class="hs-cpp">
#else
</span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Config</span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">DynFlags</span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Fingerprint</span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Platform</span><span class="hs-cpp">
#endif
</span><span class="hs-cpp">
#if MIN_VERSION_ghc(8,10,0)
</span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.Hs</span></span><span class="hs-cpp">
#else
</span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">HsSyn</span><span class="hs-cpp">
#endif
</span><span class="hs-cpp">
#if MIN_VERSION_ghc(9, 2, 0)
</span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.Driver.Config</span></span><span class="hs-cpp">
#endif
</span><span class="hs-cpp">
#if MIN_VERSION_ghc(9,0,0)
</span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.Parser.PostProcess</span></span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.Driver.Session</span></span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.Data.StringBuffer</span></span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.Parser.Lexer</span></span><span>
</span><span id="line-51"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">GHC.Parser.Lexer</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Lexer</span></span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">GHC.Parser</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Parser</span></span><span>
</span><span id="line-53"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.Data.FastString</span></span><span>
</span><span id="line-54"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.Types.SrcLoc</span></span><span>
</span><span id="line-55"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.Driver.Backpack.Syntax</span></span><span>
</span><span id="line-56"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.Unit.Info</span></span><span>
</span><span id="line-57"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.Types.Name.Reader</span></span><span class="hs-cpp">
#else
</span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">StringBuffer</span><span>
</span><span id="line-60"></span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Lexer</span><span>
</span><span id="line-61"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-identifier">Parser</span><span>
</span><span id="line-62"></span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">FastString</span><span>
</span><span id="line-63"></span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">SrcLoc</span><span>
</span><span id="line-64"></span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">RdrName</span><span class="hs-cpp">
#endif
</span><span class="hs-cpp">
#if MIN_VERSION_ghc(9, 0, 0)
</span><span class="hs-cpp">#else
</span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">RdrHsSyn</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-72"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Data</span></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Fixity</span></span><span class="hs-special">)</span><span class="hs-cpp">

#if MIN_VERSION_ghc(9,0,0)
</span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.Hs</span></span><span class="hs-cpp">

#if MIN_VERSION_ghc(9, 2, 0)
</span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.Types.Fixity</span></span><span>
</span><span id="line-79"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.Types.SourceText</span></span><span class="hs-cpp">
#else
</span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">GHC.Types.Basic</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-84"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.Types.Name.Reader</span></span><span>
</span><span id="line-85"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.Types.Name</span></span><span>
</span><span id="line-86"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.Types.SrcLoc</span></span><span class="hs-cpp">
#elif MIN_VERSION_ghc(8, 10, 0)
</span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">BasicTypes</span><span>
</span><span id="line-89"></span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">OccName</span><span class="hs-cpp">
#else
</span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">BasicTypes</span><span>
</span><span id="line-92"></span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">OccName</span><span class="hs-cpp">
#endif
</span><span class="hs-cpp">
#if MIN_VERSION_ghc(9,3,0)
</span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.Driver.Config.Parser</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">initParserOpts</span></span><span class="hs-special">)</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-99"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Maybe</span></span><span>
</span><span id="line-100"></span><span>
</span><span id="line-101"></span><span class="annot"><a href="PyF.Internal.ParserEx.html#fakeSettings"><span class="hs-identifier hs-type">fakeSettings</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Settings</span></span><span>
</span><span id="line-102"></span><span id="fakeSettings"><span class="annot"><span class="annottext">fakeSettings :: Settings
</span><a href="PyF.Internal.ParserEx.html#fakeSettings"><span class="hs-identifier hs-var hs-var">fakeSettings</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Settings</span></span><span class="hs-cpp">
#if MIN_VERSION_ghc(9, 2, 0)
</span><span>  </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">sGhcNameVersion :: GhcNameVersion
</span><span class="hs-identifier hs-var">sGhcNameVersion</span></span><span class="hs-glyph">=</span><span class="annot"><span class="annottext">GhcNameVersion
</span><a href="#local-6989586621679250552"><span class="hs-identifier hs-var">ghcNameVersion</span></a></span><span>
</span><span id="line-105"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sFileSettings :: FileSettings
</span><span class="hs-identifier hs-var">sFileSettings</span></span><span class="hs-glyph">=</span><span class="annot"><span class="annottext">FileSettings
</span><a href="#local-6989586621679250554"><span class="hs-identifier hs-var">fileSettings</span></a></span><span>
</span><span id="line-106"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sTargetPlatform :: Platform
</span><span class="hs-identifier hs-var">sTargetPlatform</span></span><span class="hs-glyph">=</span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621679250556"><span class="hs-identifier hs-var">platform</span></a></span><span>
</span><span id="line-107"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sPlatformMisc :: PlatformMisc
</span><span class="hs-identifier hs-var">sPlatformMisc</span></span><span class="hs-glyph">=</span><span class="annot"><span class="annottext">PlatformMisc
</span><a href="#local-6989586621679250558"><span class="hs-identifier hs-var">platformMisc</span></a></span><span>
</span><span id="line-108"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sToolSettings :: ToolSettings
</span><span class="hs-identifier hs-var">sToolSettings</span></span><span class="hs-glyph">=</span><span class="annot"><span class="annottext">ToolSettings
</span><a href="#local-6989586621679250560"><span class="hs-identifier hs-var">toolSettings</span></a></span><span>
</span><span id="line-109"></span><span>  </span><span class="hs-special">}</span><span class="hs-cpp">
#elif MIN_VERSION_ghc(8, 10, 0)
</span><span>  </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">sGhcNameVersion</span><span class="hs-glyph">=</span><span class="hs-identifier">ghcNameVersion</span><span>
</span><span id="line-112"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">sFileSettings</span><span class="hs-glyph">=</span><span class="hs-identifier">fileSettings</span><span>
</span><span id="line-113"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">sTargetPlatform</span><span class="hs-glyph">=</span><span class="hs-identifier">platform</span><span>
</span><span id="line-114"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">sPlatformMisc</span><span class="hs-glyph">=</span><span class="hs-identifier">platformMisc</span><span>
</span><span id="line-115"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">sPlatformConstants</span><span class="hs-glyph">=</span><span class="hs-identifier">platformConstants</span><span>
</span><span id="line-116"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">sToolSettings</span><span class="hs-glyph">=</span><span class="hs-identifier">toolSettings</span><span>
</span><span id="line-117"></span><span>  </span><span class="hs-special">}</span><span class="hs-cpp">
#else
</span><span>  </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">sTargetPlatform</span><span class="hs-glyph">=</span><span class="hs-identifier">platform</span><span>
</span><span id="line-120"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">sPlatformConstants</span><span class="hs-glyph">=</span><span class="hs-identifier">platformConstants</span><span>
</span><span id="line-121"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">sProjectVersion</span><span class="hs-glyph">=</span><span class="hs-identifier">cProjectVersion</span><span>
</span><span id="line-122"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">sProgramName</span><span class="hs-glyph">=</span><span class="hs-string">&quot;ghc&quot;</span><span>
</span><span id="line-123"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">sOpt_P_fingerprint</span><span class="hs-glyph">=</span><span class="hs-identifier">fingerprint0</span><span>
</span><span id="line-124"></span><span>  </span><span class="hs-special">}</span><span class="hs-cpp">
#endif
</span><span>  </span><span class="hs-keyword">where</span><span class="hs-cpp">
#if MIN_VERSION_ghc(8, 10, 0)
</span><span>    </span><span id="local-6989586621679250560"><span class="annot"><span class="annottext">toolSettings :: ToolSettings
</span><a href="#local-6989586621679250560"><span class="hs-identifier hs-var hs-var">toolSettings</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ToolSettings</span></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-129"></span><span>      </span><span class="annot"><span class="annottext">toolSettings_opt_P_fingerprint :: Fingerprint
</span><a href="#local-6989586621679250562"><span class="hs-identifier hs-var">toolSettings_opt_P_fingerprint</span></a></span><span class="hs-glyph">=</span><span class="annot"><span class="annottext">Fingerprint
</span><span class="hs-identifier hs-var">fingerprint0</span></span><span>
</span><span id="line-130"></span><span>      </span><span class="hs-special">}</span><span>
</span><span id="line-131"></span><span>    </span><span id="local-6989586621679250554"><span class="annot"><span class="annottext">fileSettings :: FileSettings
</span><a href="#local-6989586621679250554"><span class="hs-identifier hs-var hs-var">fileSettings</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FileSettings</span></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>
</span><span id="line-132"></span><span>    </span><span id="local-6989586621679250558"><span class="annot"><span class="annottext">platformMisc :: PlatformMisc
</span><a href="#local-6989586621679250558"><span class="hs-identifier hs-var hs-var">platformMisc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PlatformMisc</span></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>
</span><span id="line-133"></span><span>    </span><span id="local-6989586621679250552"><span class="annot"><span class="annottext">ghcNameVersion :: GhcNameVersion
</span><a href="#local-6989586621679250552"><span class="hs-identifier hs-var hs-var">ghcNameVersion</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-134"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">GhcNameVersion</span></span><span class="hs-special">{</span><span class="annot"><span class="annottext">ghcNameVersion_programName :: String
</span><a href="#local-6989586621679250567"><span class="hs-identifier hs-var">ghcNameVersion_programName</span></a></span><span class="hs-glyph">=</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ghc&quot;</span></span><span>
</span><span id="line-135"></span><span>                    </span><span class="hs-special">,</span><span class="annot"><span class="annottext">ghcNameVersion_projectVersion :: String
</span><a href="#local-6989586621679250568"><span class="hs-identifier hs-var">ghcNameVersion_projectVersion</span></a></span><span class="hs-glyph">=</span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier hs-var">cProjectVersion</span></span><span>
</span><span id="line-136"></span><span>                    </span><span class="hs-special">}</span><span class="hs-cpp">
#endif
</span><span>    </span><span id="local-6989586621679250556"><span class="annot"><span class="annottext">platform :: Platform
</span><a href="#local-6989586621679250556"><span class="hs-identifier hs-var hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-139"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Platform</span></span><span class="hs-special">{</span><span class="hs-cpp">
#if MIN_VERSION_ghc(9, 0, 0)
</span><span>    </span><span class="hs-comment">-- It doesn't matter what values we write here as these fields are</span><span>
</span><span id="line-142"></span><span>    </span><span class="hs-comment">-- not referenced for our purposes. However the fields are strict</span><span>
</span><span id="line-143"></span><span>    </span><span class="hs-comment">-- so we must say something.</span><span>
</span><span id="line-144"></span><span>        </span><span class="annot"><span class="annottext">platformByteOrder :: ByteOrder
</span><span class="hs-identifier hs-var">platformByteOrder</span></span><span class="hs-glyph">=</span><span class="annot"><span class="annottext">ByteOrder
</span><span class="hs-identifier hs-var">LittleEndian</span></span><span>
</span><span id="line-145"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">platformHasGnuNonexecStack :: Bool
</span><a href="#local-6989586621679250573"><span class="hs-identifier hs-var">platformHasGnuNonexecStack</span></a></span><span class="hs-glyph">=</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-146"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">platformHasIdentDirective :: Bool
</span><a href="#local-6989586621679250574"><span class="hs-identifier hs-var">platformHasIdentDirective</span></a></span><span class="hs-glyph">=</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-147"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">platformHasSubsectionsViaSymbols :: Bool
</span><a href="#local-6989586621679250575"><span class="hs-identifier hs-var">platformHasSubsectionsViaSymbols</span></a></span><span class="hs-glyph">=</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-148"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">platformIsCrossCompiling :: Bool
</span><a href="#local-6989586621679250576"><span class="hs-identifier hs-var">platformIsCrossCompiling</span></a></span><span class="hs-glyph">=</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-149"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">platformLeadingUnderscore :: Bool
</span><a href="#local-6989586621679250577"><span class="hs-identifier hs-var">platformLeadingUnderscore</span></a></span><span class="hs-glyph">=</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-150"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">platformTablesNextToCode :: Bool
</span><a href="#local-6989586621679250578"><span class="hs-identifier hs-var">platformTablesNextToCode</span></a></span><span class="hs-glyph">=</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-cpp">
#if MIN_VERSION_ghc(9, 2, 0)
</span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">platform_constants :: Maybe PlatformConstants
</span><a href="#local-6989586621679250579"><span class="hs-identifier hs-var">platform_constants</span></a></span><span class="hs-glyph">=</span><span class="annot"><span class="annottext">Maybe PlatformConstants
forall {a}. Maybe a
</span><a href="#local-6989586621679250580"><span class="hs-identifier hs-var">platformConstants</span></a></span><span class="hs-cpp">
#endif
</span><span class="hs-cpp">#if MIN_VERSION_ghc(9, 3, 0)
</span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">platformHasLibm :: Bool
</span><a href="#local-6989586621679250581"><span class="hs-identifier hs-var">platformHasLibm</span></a></span><span class="hs-glyph">=</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-158"></span><span>      </span><span class="hs-special">,</span><span class="hs-cpp">
#endif
</span><span class="hs-cpp">
#if MIN_VERSION_ghc(9, 2, 0)
</span><span>        </span><span class="annot"><span class="annottext">platformWordSize :: PlatformWordSize
</span><a href="#local-6989586621679250582"><span class="hs-identifier hs-var">platformWordSize</span></a></span><span class="hs-glyph">=</span><span class="annot"><span class="annottext">PlatformWordSize
</span><span class="hs-identifier hs-var">PW8</span></span><span>
</span><span id="line-163"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">platformArchOS :: ArchOS
</span><a href="#local-6989586621679250584"><span class="hs-identifier hs-var">platformArchOS</span></a></span><span class="hs-glyph">=</span><span class="annot"><span class="hs-identifier hs-type">ArchOS</span></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">archOS_arch :: Arch
</span><a href="#local-6989586621679250586"><span class="hs-identifier hs-var">archOS_arch</span></a></span><span class="hs-glyph">=</span><span class="annot"><span class="annottext">Arch
</span><span class="hs-identifier hs-var">ArchUnknown</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">archOS_OS :: OS
</span><a href="#local-6989586621679250588"><span class="hs-identifier hs-var">archOS_OS</span></a></span><span class="hs-glyph">=</span><span class="annot"><span class="annottext">OS
</span><span class="hs-identifier hs-var">OSUnknown</span></span><span class="hs-special">}</span><span class="hs-cpp">
#elif MIN_VERSION_ghc(8, 10, 0)
</span><span>        </span><span class="hs-identifier">platformWordSize</span><span class="hs-glyph">=</span><span class="hs-identifier">PW8</span><span>
</span><span id="line-166"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">platformMini</span><span class="hs-glyph">=</span><span class="hs-identifier">PlatformMini</span><span> </span><span class="hs-special">{</span><span class="hs-identifier">platformMini_arch</span><span class="hs-glyph">=</span><span class="hs-identifier">ArchUnknown</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">platformMini_os</span><span class="hs-glyph">=</span><span class="hs-identifier">OSUnknown</span><span class="hs-special">}</span><span class="hs-cpp">
#else
</span><span>        </span><span class="hs-identifier">platformWordSize</span><span class="hs-glyph">=</span><span class="hs-number">8</span><span>
</span><span id="line-169"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">platformOS</span><span class="hs-glyph">=</span><span class="hs-identifier">OSUnknown</span><span class="hs-cpp">
#endif
</span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">platformUnregisterised :: Bool
</span><a href="#local-6989586621679250590"><span class="hs-identifier hs-var">platformUnregisterised</span></a></span><span class="hs-glyph">=</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-172"></span><span>      </span><span class="hs-special">}</span><span class="hs-cpp">
#if MIN_VERSION_ghc(9, 2, 0)
</span><span>    </span><span id="local-6989586621679250580"><span class="annot"><span class="annottext">platformConstants :: Maybe a
</span><a href="#local-6989586621679250580"><span class="hs-identifier hs-var hs-var">platformConstants</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe a
forall {a}. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-cpp">
#else
</span><span>    </span><span class="hs-identifier">platformConstants</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-177"></span><span>      </span><span class="hs-identifier">PlatformConstants</span><span class="hs-special">{</span><span class="hs-identifier">pc_DYNAMIC_BY_DEFAULT</span><span class="hs-glyph">=</span><span class="hs-identifier">False</span><span class="hs-special">,</span><span class="hs-identifier">pc_WORD_SIZE</span><span class="hs-glyph">=</span><span class="hs-number">8</span><span class="hs-special">}</span><span class="hs-cpp">
#endif
</span><span class="hs-cpp">
#if MIN_VERSION_ghc(8, 10, 0)
</span><span class="annot"><a href="PyF.Internal.ParserEx.html#fakeLlvmConfig"><span class="hs-identifier hs-type">fakeLlvmConfig</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">LlvmConfig</span></span><span>
</span><span id="line-182"></span><span id="fakeLlvmConfig"><span class="annot"><span class="annottext">fakeLlvmConfig :: LlvmConfig
</span><a href="PyF.Internal.ParserEx.html#fakeLlvmConfig"><span class="hs-identifier hs-var hs-var">fakeLlvmConfig</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(String, LlvmTarget)] -&gt; [(Int, String)] -&gt; LlvmConfig
</span><span class="hs-identifier hs-var">LlvmConfig</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-cpp">
#else
</span><span class="hs-identifier">fakeLlvmConfig</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">LlvmTargets</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LlvmPasses</span><span class="hs-special">)</span><span>
</span><span id="line-185"></span><span class="hs-identifier">fakeLlvmConfig</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-188"></span><span class="hs-comment">-- From Language.Haskell.GhclibParserEx.GHC.Parser</span><span>
</span><span id="line-189"></span><span>
</span><span id="line-190"></span><span id="local-6989586621679250528"><span class="annot"><a href="PyF.Internal.ParserEx.html#parse"><span class="hs-identifier hs-type">parse</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">RealSrcLoc</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">P</span></span><span> </span><span class="annot"><a href="#local-6989586621679250528"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">DynFlags</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ParseResult</span></span><span> </span><span class="annot"><a href="#local-6989586621679250528"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-191"></span><span id="parse"><span class="annot"><span class="annottext">parse :: forall a. RealSrcLoc -&gt; P a -&gt; String -&gt; DynFlags -&gt; ParseResult a
</span><a href="PyF.Internal.ParserEx.html#parse"><span class="hs-identifier hs-var hs-var">parse</span></a></span></span><span> </span><span id="local-6989586621679250593"><span class="annot"><span class="annottext">RealSrcLoc
</span><a href="#local-6989586621679250593"><span class="hs-identifier hs-var">initLoc</span></a></span></span><span> </span><span id="local-6989586621679250594"><span class="annot"><span class="annottext">P a
</span><a href="#local-6989586621679250594"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679250595"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679250595"><span class="hs-identifier hs-var">str</span></a></span></span><span> </span><span id="local-6989586621679250596"><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621679250596"><span class="hs-identifier hs-var">flags</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-192"></span><span>  </span><span class="annot"><span class="annottext">P a -&gt; PState -&gt; ParseResult a
forall a. P a -&gt; PState -&gt; ParseResult a
</span><span class="hs-identifier hs-var">Lexer.unP</span></span><span> </span><span class="annot"><span class="annottext">P a
</span><a href="#local-6989586621679250594"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">PState
</span><a href="#local-6989586621679250598"><span class="hs-identifier hs-var">parseState</span></a></span><span>
</span><span id="line-193"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-194"></span><span>    </span><span id="local-6989586621679250599"><span class="annot"><span class="annottext">buffer :: StringBuffer
</span><a href="#local-6989586621679250599"><span class="hs-identifier hs-var hs-var">buffer</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; StringBuffer
</span><span class="hs-identifier hs-var">stringToStringBuffer</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679250595"><span class="hs-identifier hs-var">str</span></a></span><span>
</span><span id="line-195"></span><span>    </span><span id="local-6989586621679250598"><span class="annot"><span class="annottext">parseState :: PState
</span><a href="#local-6989586621679250598"><span class="hs-identifier hs-var hs-var">parseState</span></a></span></span><span> </span><span class="hs-glyph">=</span><span class="hs-cpp">
#if MIN_VERSION_ghc(9, 2, 0)
</span><span>      </span><span class="annot"><span class="annottext">ParserOpts -&gt; StringBuffer -&gt; RealSrcLoc -&gt; PState
</span><span class="hs-identifier hs-var">initParserState</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DynFlags -&gt; ParserOpts
</span><span class="hs-identifier hs-var">initParserOpts</span></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621679250596"><span class="hs-identifier hs-var">flags</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">StringBuffer
</span><a href="#local-6989586621679250599"><span class="hs-identifier hs-var">buffer</span></a></span><span> </span><span class="annot"><span class="annottext">RealSrcLoc
</span><a href="#local-6989586621679250593"><span class="hs-identifier hs-var">initLoc</span></a></span><span class="hs-cpp">
#else
</span><span>      </span><span class="hs-identifier">mkPState</span><span> </span><span class="hs-identifier">flags</span><span> </span><span class="hs-identifier">buffer</span><span> </span><span class="hs-identifier">initLoc</span><span class="hs-cpp">
#endif
</span><span class="hs-cpp">
#if MIN_VERSION_ghc(9, 2, 0)
</span><span class="annot"><a href="PyF.Internal.ParserEx.html#parseExpression"><span class="hs-identifier hs-type">parseExpression</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">RealSrcLoc</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">DynFlags</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ParseResult</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">LocatedA</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">HsExpr</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">GhcPs</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-204"></span><span id="parseExpression"><span class="annot"><span class="annottext">parseExpression :: RealSrcLoc
-&gt; String -&gt; DynFlags -&gt; ParseResult (LocatedA (HsExpr GhcPs))
</span><a href="PyF.Internal.ParserEx.html#parseExpression"><span class="hs-identifier hs-var hs-var">parseExpression</span></a></span></span><span> </span><span id="local-6989586621679250602"><span class="annot"><span class="annottext">RealSrcLoc
</span><a href="#local-6989586621679250602"><span class="hs-identifier hs-var">initLoc</span></a></span></span><span> </span><span id="local-6989586621679250603"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679250603"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621679250604"><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621679250604"><span class="hs-identifier hs-var">flags</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-205"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">RealSrcLoc -&gt; P ECP -&gt; String -&gt; DynFlags -&gt; ParseResult ECP
forall a. RealSrcLoc -&gt; P a -&gt; String -&gt; DynFlags -&gt; ParseResult a
</span><a href="PyF.Internal.ParserEx.html#parse"><span class="hs-identifier hs-var">parse</span></a></span><span> </span><span class="annot"><span class="annottext">RealSrcLoc
</span><a href="#local-6989586621679250602"><span class="hs-identifier hs-var">initLoc</span></a></span><span> </span><span class="annot"><span class="annottext">P ECP
</span><span class="hs-identifier hs-var">Parser.parseExpression</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679250603"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621679250604"><span class="hs-identifier hs-var">flags</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-206"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">POk</span></span><span> </span><span id="local-6989586621679250607"><span class="annot"><span class="annottext">PState
</span><a href="#local-6989586621679250607"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621679250608"><span class="annot"><span class="annottext">ECP
</span><a href="#local-6989586621679250608"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">P (LocatedA (HsExpr GhcPs))
-&gt; PState -&gt; ParseResult (LocatedA (HsExpr GhcPs))
forall a. P a -&gt; PState -&gt; ParseResult a
</span><span class="hs-identifier hs-var">unP</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PV (LocatedA (HsExpr GhcPs)) -&gt; P (LocatedA (HsExpr GhcPs))
forall a. PV a -&gt; P a
</span><span class="hs-identifier hs-var">runPV</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ECP -&gt; forall b. DisambECP b =&gt; PV (LocatedA b)
</span><span class="hs-identifier hs-var">unECP</span></span><span> </span><span class="annot"><span class="annottext">ECP
</span><a href="#local-6989586621679250608"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">PState
</span><a href="#local-6989586621679250607"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-207"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">PFailed</span></span><span> </span><span id="local-6989586621679250612"><span class="annot"><span class="annottext">PState
</span><a href="#local-6989586621679250612"><span class="hs-identifier hs-var">ps</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PState -&gt; ParseResult (LocatedA (HsExpr GhcPs))
forall a. PState -&gt; ParseResult a
</span><span class="hs-identifier hs-var">PFailed</span></span><span> </span><span class="annot"><span class="annottext">PState
</span><a href="#local-6989586621679250612"><span class="hs-identifier hs-var">ps</span></a></span><span class="hs-cpp">
#elif MIN_VERSION_ghc(8, 10, 0)
</span><span class="hs-identifier">parseExpression</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">RealSrcLoc</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">ParseResult</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Located</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">HsExpr</span><span> </span><span class="hs-identifier">GhcPs</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-210"></span><span class="hs-identifier">parseExpression</span><span> </span><span class="hs-identifier">initLoc</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-identifier">flags</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-211"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="hs-identifier">parse</span><span> </span><span class="hs-identifier">initLoc</span><span> </span><span class="hs-identifier">Parser.parseExpression</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-identifier">flags</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-212"></span><span>    </span><span class="hs-identifier">POk</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-identifier">e</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">unP</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">runECP_P</span><span> </span><span class="hs-identifier">e</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">s</span><span>
</span><span id="line-213"></span><span>    </span><span class="hs-identifier">PFailed</span><span> </span><span class="hs-identifier">ps</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">PFailed</span><span> </span><span class="hs-identifier">ps</span><span class="hs-cpp">
#else
</span><span class="hs-identifier">parseExpression</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">RealSrcLoc</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">DynFlags</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">ParseResult</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">LHsExpr</span><span> </span><span class="hs-identifier">GhcPs</span><span class="hs-special">)</span><span>
</span><span id="line-216"></span><span class="hs-identifier">parseExpression</span><span> </span><span class="hs-identifier">initLoc</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">parse</span><span> </span><span class="hs-identifier">initLoc</span><span> </span><span class="hs-identifier">Parser.parseExpression</span><span class="hs-cpp">
#endif
</span></pre></body></html>