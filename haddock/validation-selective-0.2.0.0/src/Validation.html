<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span id="local-6989586621679047672"><span id="local-6989586621679047673"><span id="local-6989586621679047674"></span></span></span><span class="hs-pragma">{-# LANGUAGE DataKinds            #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE DeriveAnyClass       #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE DeriveDataTypeable   #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilies         #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE TypeOperators        #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE UndecidableInstances #-}</span><span>
</span><span id="line-7"></span><span>
</span><span id="line-8"></span><span class="annot"><span class="hs-comment">{- |
Copyright:  (c) 2014 Chris Allen, Edward Kmett
            (c) 2018-2023 Kowainik
SPDX-License-Identifier: MPL-2.0
Maintainer:  Kowainik &lt;xrom.xkov@gmail.com&gt;
Stability:   Stable
Portability: Portable

Lightweight pure data validation based on 'Applicative' and 'Selective' functors.

'Validation' allows to accumulate all errors instead of
short-circuting on the first error so you can display all possible
errors at once.

Common use-cases include:

1. Validating each input of a form with multiple inputs.
2. Performing multiple validations of a single value.

'Validation' provides __modular__ and __composable__ interface which
means that you can implement validations for different pieces of your
data independently, and then combine smaller parts into the validation
of a bigger type. The below table illustrates main ways to combine two
'Validation's:

+---------------+-------------+---------------------------+---------------------------+---------------------------+---------------------------+
|   Typeclass   | Operation &#9675; | 'Failure' e &#9675; 'Failure' d | 'Success' a &#9675; 'Success' b | 'Failure' e &#9675; 'Success' a | 'Success' a &#9675; 'Failure' e |
+===============+=============+===========================+===========================+===========================+===========================+
| 'Semigroup'   | '&lt;&gt;'        | 'Failure' (e '&lt;&gt;' d)      | 'Success' (a '&lt;&gt;' b)      | 'Failure' e               | 'Failure' e               |
+---------------+-------------+---------------------------+---------------------------+---------------------------+---------------------------+
| 'Applicative' | '&lt;*&gt;'       | 'Failure' (e '&lt;&gt;' d)      | 'Success' (a b)           | 'Failure' e               | 'Failure' e               |
+---------------+-------------+---------------------------+---------------------------+---------------------------+---------------------------+
| 'Alternative' | '&lt;|&gt;'       | 'Failure' (e '&lt;&gt;' d)      | 'Success' a               | 'Success' a               | 'Success' a               |
+---------------+-------------+---------------------------+---------------------------+---------------------------+---------------------------+
| 'Selective'   | '&lt;*?'       | 'Failure' e               | 'Selective' choice        | 'Failure' e               | 'Selective' choice        |
+---------------+-------------+---------------------------+---------------------------+---------------------------+---------------------------+

In other words, instances of different standard typeclasses provide
various semantics which can be useful in different use-cases:

1. 'Semigroup': accumulate both 'Failure' and 'Success' with '&lt;&gt;'.
2. 'Monoid': 'Success' that stores 'mempty'.
3. 'Functor': change the type inside 'Success'.
4. 'Bifunctor': change both 'Failure' and 'Success'.
5. 'Applicative': apply function to values inside 'Success' and accumulate
   errors inside 'Failure'.
6. 'Alternative': return the first 'Success' or accumulate all errors
   inside 'Failure'.
7. 'Selective': choose which validations to apply based on the value
   inside.
-}</span></span><span>
</span><span id="line-59"></span><span>
</span><span id="line-60"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Validation</span><span>
</span><span id="line-61"></span><span>       </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-comment">-- * Type</span></span><span>
</span><span id="line-62"></span><span>         </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier">Validation</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-63"></span><span>
</span><span id="line-64"></span><span>         </span><span class="annot"><span class="hs-comment">-- * How to use</span></span><span>
</span><span id="line-65"></span><span>         </span><span class="annot"><span class="hs-comment">-- $use</span></span><span>
</span><span id="line-66"></span><span>
</span><span id="line-67"></span><span>         </span><span class="annot"><span class="hs-comment">-- * Interface functions</span></span><span>
</span><span id="line-68"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Validation.html#isFailure"><span class="hs-identifier">isFailure</span></a></span><span>
</span><span id="line-69"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Validation.html#isSuccess"><span class="hs-identifier">isSuccess</span></a></span><span>
</span><span id="line-70"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Validation.html#validation"><span class="hs-identifier">validation</span></a></span><span>
</span><span id="line-71"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Validation.html#failures"><span class="hs-identifier">failures</span></a></span><span>
</span><span id="line-72"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Validation.html#successes"><span class="hs-identifier">successes</span></a></span><span>
</span><span id="line-73"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Validation.html#partitionValidations"><span class="hs-identifier">partitionValidations</span></a></span><span>
</span><span id="line-74"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Validation.html#fromFailure"><span class="hs-identifier">fromFailure</span></a></span><span>
</span><span id="line-75"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Validation.html#fromSuccess"><span class="hs-identifier">fromSuccess</span></a></span><span>
</span><span id="line-76"></span><span>
</span><span id="line-77"></span><span>         </span><span class="annot"><span class="hs-comment">-- ** 'NonEmpty' combinators</span></span><span>
</span><span id="line-78"></span><span>         </span><span class="annot"><span class="hs-comment">-- $nonEmptyCombinators</span></span><span>
</span><span id="line-79"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Validation.html#failure"><span class="hs-identifier">failure</span></a></span><span>
</span><span id="line-80"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Validation.html#failureIf"><span class="hs-identifier">failureIf</span></a></span><span>
</span><span id="line-81"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Validation.html#failureUnless"><span class="hs-identifier">failureUnless</span></a></span><span>
</span><span id="line-82"></span><span>
</span><span id="line-83"></span><span>         </span><span class="annot"><span class="hs-comment">-- ** 'Either' conversion</span></span><span>
</span><span id="line-84"></span><span>         </span><span class="annot"><span class="hs-comment">-- $either</span></span><span>
</span><span id="line-85"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Validation.html#validationToEither"><span class="hs-identifier">validationToEither</span></a></span><span>
</span><span id="line-86"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Validation.html#eitherToValidation"><span class="hs-identifier">eitherToValidation</span></a></span><span>
</span><span id="line-87"></span><span>
</span><span id="line-88"></span><span>         </span><span class="annot"><span class="hs-comment">-- * Combinators</span></span><span>
</span><span id="line-89"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Validation.Combinators.html#validateAll"><span class="hs-identifier">validateAll</span></a></span><span>
</span><span id="line-90"></span><span>
</span><span id="line-91"></span><span>         </span><span class="annot"><span class="hs-comment">-- ** When* functions</span></span><span>
</span><span id="line-92"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Validation.Combinators.html#whenSuccess"><span class="hs-identifier">whenSuccess</span></a></span><span>
</span><span id="line-93"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Validation.Combinators.html#whenFailure"><span class="hs-identifier">whenFailure</span></a></span><span>
</span><span id="line-94"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Validation.Combinators.html#whenSuccess_"><span class="hs-identifier">whenSuccess_</span></a></span><span>
</span><span id="line-95"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Validation.Combinators.html#whenFailure_"><span class="hs-identifier">whenFailure_</span></a></span><span>
</span><span id="line-96"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Validation.Combinators.html#whenSuccessM"><span class="hs-identifier">whenSuccessM</span></a></span><span>
</span><span id="line-97"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Validation.Combinators.html#whenFailureM"><span class="hs-identifier">whenFailureM</span></a></span><span>
</span><span id="line-98"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Validation.Combinators.html#whenSuccessM_"><span class="hs-identifier">whenSuccessM_</span></a></span><span>
</span><span id="line-99"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Validation.Combinators.html#whenFailureM_"><span class="hs-identifier">whenFailureM_</span></a></span><span>
</span><span id="line-100"></span><span>
</span><span id="line-101"></span><span>         </span><span class="annot"><span class="hs-comment">-- ** 'Maybe' conversion</span></span><span>
</span><span id="line-102"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Validation.Combinators.html#failureToMaybe"><span class="hs-identifier">failureToMaybe</span></a></span><span>
</span><span id="line-103"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Validation.Combinators.html#successToMaybe"><span class="hs-identifier">successToMaybe</span></a></span><span>
</span><span id="line-104"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Validation.Combinators.html#maybeToFailure"><span class="hs-identifier">maybeToFailure</span></a></span><span>
</span><span id="line-105"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Validation.Combinators.html#maybeToSuccess"><span class="hs-identifier">maybeToSuccess</span></a></span><span>
</span><span id="line-106"></span><span>       </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-107"></span><span>
</span><span id="line-108"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Applicative</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Alternative</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Applicative</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-109"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.DeepSeq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">NFData</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">NFData1</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">NFData2</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-110"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Selective</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Selective</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-111"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Bifoldable</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Bifoldable</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-112"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Bifunctor</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Bifunctor</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-113"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Bitraversable</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Bitraversable</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-114"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Data</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Data</span></span><span class="hs-special">)</span><span>
</span><span id="line-115"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Foldable</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Foldable</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-116"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Kind</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Constraint</span></span><span class="hs-special">)</span><span>
</span><span id="line-117"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.List.NonEmpty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">NonEmpty</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-118"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.Generics</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Generic</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Generic1</span></span><span class="hs-special">)</span><span>
</span><span id="line-119"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.TypeLits</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">ErrorMessage</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">TypeError</span></span><span class="hs-special">)</span><span>
</span><span id="line-120"></span><span>
</span><span id="line-121"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Validation.Combinators.html"><span class="hs-identifier">Validation.Combinators</span></a></span><span>
</span><span id="line-122"></span><span>
</span><span id="line-123"></span><span>
</span><span id="line-124"></span><span class="hs-comment">-- $setup</span><span>
</span><span id="line-125"></span><span class="hs-comment">-- &gt;&gt;&gt; import Control.Applicative (liftA3)</span><span>
</span><span id="line-126"></span><span class="hs-comment">-- &gt;&gt;&gt; import Control.Selective (ifS)</span><span>
</span><span id="line-127"></span><span class="hs-comment">-- &gt;&gt;&gt; import Data.Char (isDigit)</span><span>
</span><span id="line-128"></span><span class="hs-comment">-- &gt;&gt;&gt; import Data.Maybe (listToMaybe)</span><span>
</span><span id="line-129"></span><span class="hs-comment">-- &gt;&gt;&gt; import Text.Read (readMaybe)</span><span>
</span><span id="line-130"></span><span>
</span><span id="line-131"></span><span class="annot"><span class="hs-comment">{- $use

This section contains the typical 'Validation' usage example. Let's say we
have a form with fields where you can input your login information.

&gt;&gt;&gt; :{
data Form = Form
    { formUserName :: !String
    , formPassword :: !String
    }
:}


This @Form@ data type can represent values of some text fields on the
web page or inside the GUI application. Our goal is to create a value of
the custom @User@ data type from the @Form@ fields.

First, let's define our @User@ type and additional @newtype@s for more
type safety.

&gt;&gt;&gt; :{
newtype UserName = UserName
    { unUserName :: String
    } deriving newtype (Show)
:}

&gt;&gt;&gt; :{
newtype Password = Password
    { unPassword :: String
    } deriving newtype (Show)
:}

&gt;&gt;&gt; :{
data User = User
    { userName     :: !UserName
    , userPassword :: !Password
    } deriving stock (Show)
:}

We can easily create a @User@ from the @Form@ in the /unsafe/ way by wrapping
each form field into the corresponding @newtype@:

&gt;&gt;&gt; :{
unsafeUserFromForm :: Form -&gt; User
unsafeUserFromForm Form{..} = User
    { userName     = UserName formUserName
    , userPassword = Password formPassword
    }
:}

However, this conversion is unsafe (as name suggests) since @Form@ can
contain /invalid/ data. So, before creating a @User@ we want to check
whether all @Form@ fields satisfy our preconditions. Specifically:

1. User name must not be empty.
2. Password should be at least 8 characters long.
3. Password should contain at least 1 digit.

'Validation' offers __modular__ and __composable__ way of defining and
outputting all validation failures which means:

1. __Modular__: define validation checks for different fields
independently.
2. __Composable__: combine smaller validations easily into a
validation of a bigger type.

Before implementing @Form@ validation, we need to introduce a type for
representing our validation errors. It is a good practice to define
all possible errors as a single sum type, so let's go ahead:

&gt;&gt;&gt; :{
data FormValidationError
    = EmptyName
    | ShortPassword
    | NoDigitPassword
    deriving stock (Show)
:}

With 'Validation' we can define checks for individual fields
independently and compose them later. First, let's start with defining
validation for the name:

&gt;&gt;&gt; :{
validateName :: String -&gt; Validation (NonEmpty FormValidationError) UserName
validateName name = UserName name &lt;$ failureIf (null name) EmptyName
:}

You can notice a few things about this function:

1. All errors are collected in 'NonEmpty', since we want to have
guarantees that in case of errors we have at least one failure.
2. It wraps the result into @UserName@ to tell that validation is
passed.

Let's see how this function works:

&gt;&gt;&gt; validateName &quot;John&quot;
Success &quot;John&quot;
&gt;&gt;&gt; validateName &quot;&quot;
Failure (EmptyName :| [])

Since 'Validation' provides __modular__ interface for defining checks,
we now can define all validation functions for the password
separately:

&gt;&gt;&gt; :{
validateShortPassword :: String -&gt; Validation (NonEmpty FormValidationError) Password
validateShortPassword password = Password password &lt;$
    failureIf (length password &lt; 8) ShortPassword
:}

&gt;&gt;&gt; :{
validatePasswordDigit :: String -&gt; Validation (NonEmpty FormValidationError) Password
validatePasswordDigit password = Password password &lt;$
    failureUnless (any isDigit password) NoDigitPassword
:}

After we've implemented validations for different @Form@ fields, it's
time to combine them together! 'Validation' offers several ways to
compose different validations. These ways are provided via different
instances of common Haskell typeclasses, specifically:

* 'Semigroup'
* 'Alternative'
* 'Applicative'

'Semigroup' allows combining values inside both 'Failure' and
'Success' but this requires both values to implement the 'Semigroup'
instance. This doesn't fit our goal, since @Password@ can't have a
reasonble 'Semigroup' instance.

'Alternative' returns first 'Success' or combines all 'Failure's. We
can notice that 'Alternative' also doesn't work for us here.

In our case we are interested in collecting all possible errors and
returning 'Success' only when all checks are passed. Fortunately,
'Applicative' is exactly what we need here. So we can use the '*&gt;'
operator to compose all checks for password:

&gt;&gt;&gt; :{
validatePassword :: String -&gt; Validation (NonEmpty FormValidationError) Password
validatePassword password =
    validateShortPassword password *&gt; validatePasswordDigit password
:}


Let's see how it works:

&gt;&gt;&gt; validatePassword &quot;abcd&quot;
Failure (ShortPassword :| [NoDigitPassword])
&gt;&gt;&gt; validatePassword &quot;abcd1&quot;
Failure (ShortPassword :| [])
&gt;&gt;&gt; validatePassword &quot;abcd12345&quot;
Success &quot;abcd12345&quot;

The @validation@ library provides several convenient combinators, so
you can write the password check in a shorter way:

@
validatePassword :: 'String' -&gt; 'Validation' ('NonEmpty' FormValidationError) Password
validatePassword = 'fmap' Password . 'validateAll'
    [ (\`'failureIf'\`     ShortPassword)   . (&lt; 8) . 'length'
    , (\`'failureUnless'\` NoDigitPassword) . 'any' isDigit
    ]
@

After we've implemented validations for all fields, we can compose
them together to produce validation for the whole @User@. As before,
we are going to use the 'Applicative' instance:

&gt;&gt;&gt; :{
validateForm :: Form -&gt; Validation (NonEmpty FormValidationError) User
validateForm Form{..} = User
    &lt;$&gt; validateName formUserName
    &lt;*&gt; validatePassword formPassword
:}

And it works like a charm:

&gt;&gt;&gt; validateForm (Form &quot;&quot; &quot;&quot;)
Failure (EmptyName :| [ShortPassword,NoDigitPassword])
&gt;&gt;&gt; validateForm (Form &quot;John&quot; &quot;abc&quot;)
Failure (ShortPassword :| [NoDigitPassword])
&gt;&gt;&gt; validateForm (Form &quot;Jonh&quot; &quot;qwertypassword&quot;)
Failure (NoDigitPassword :| [])
&gt;&gt;&gt; validateForm (Form &quot;Jonh&quot; &quot;qwertypassword123&quot;)
Success (User {userName = &quot;Jonh&quot;, userPassword = &quot;qwertypassword123&quot;})
-}</span></span><span>
</span><span id="line-319"></span><span>
</span><span id="line-320"></span><span class="annot"><span class="hs-comment">{- | 'Validation' is a polymorphic sum type for storing either all
validation failures or validation success. Unlike 'Either', which
returns only the first error, 'Validation' accumulates all errors
using the 'Semigroup' typeclass.

Usually type variables in @'Validation' e a@ are used as follows:

* @e@: is a list or set of failure messages or values of some error data type.
* @a@: is some domain type denoting successful validation result.

Some typical use-cases:

* @'Validation' ['String'] User@

    * Either list of 'String' error messages or a validated value of a
      custom @User@ type.

* @'Validation' ('NonEmpty' UserValidationError) User@

    * Similar to previous example, but list of failures guaranteed to
      be non-empty in case of validation failure, and it stores values
      of some custom error type.
-}</span></span><span>
</span><span id="line-343"></span><span class="hs-keyword">data</span><span> </span><span id="Validation"><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-var">Validation</span></a></span></span><span> </span><span id="local-6989586621679047404"><span class="annot"><a href="#local-6989586621679047404"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span id="local-6989586621679047405"><span class="annot"><a href="#local-6989586621679047405"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-344"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span id="Failure"><span class="annot"><a href="Validation.html#Failure"><span class="hs-identifier hs-var">Failure</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679047404"><span class="hs-identifier hs-type">e</span></a></span><span>
</span><span id="line-345"></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ Validation failure. The @e@ type is supposed to implement the 'Semigroup' instance.</span></span><span>
</span><span id="line-346"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="Success"><span class="annot"><a href="Validation.html#Success"><span class="hs-identifier hs-var">Success</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679047405"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-347"></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ Successful validation result of type @a@.</span></span><span>
</span><span id="line-348"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679047710"><span id="local-6989586621679047714"><span class="annot"><span class="annottext">Validation e a -&gt; Validation e a -&gt; Bool
(Validation e a -&gt; Validation e a -&gt; Bool)
-&gt; (Validation e a -&gt; Validation e a -&gt; Bool)
-&gt; Eq (Validation e a)
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
forall e a.
(Eq e, Eq a) =&gt;
Validation e a -&gt; Validation e a -&gt; Bool
$c== :: forall e a.
(Eq e, Eq a) =&gt;
Validation e a -&gt; Validation e a -&gt; Bool
== :: Validation e a -&gt; Validation e a -&gt; Bool
$c/= :: forall e a.
(Eq e, Eq a) =&gt;
Validation e a -&gt; Validation e a -&gt; Bool
/= :: Validation e a -&gt; Validation e a -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679047725"><span id="local-6989586621679047729"><span id="local-6989586621679047733"><span id="local-6989586621679047737"><span id="local-6989586621679047740"><span id="local-6989586621679047743"><span id="local-6989586621679047746"><span class="annot"><span class="annottext">Eq (Validation e a)
Eq (Validation e a) =&gt;
(Validation e a -&gt; Validation e a -&gt; Ordering)
-&gt; (Validation e a -&gt; Validation e a -&gt; Bool)
-&gt; (Validation e a -&gt; Validation e a -&gt; Bool)
-&gt; (Validation e a -&gt; Validation e a -&gt; Bool)
-&gt; (Validation e a -&gt; Validation e a -&gt; Bool)
-&gt; (Validation e a -&gt; Validation e a -&gt; Validation e a)
-&gt; (Validation e a -&gt; Validation e a -&gt; Validation e a)
-&gt; Ord (Validation e a)
Validation e a -&gt; Validation e a -&gt; Bool
Validation e a -&gt; Validation e a -&gt; Ordering
Validation e a -&gt; Validation e a -&gt; Validation e a
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
forall e a. (Ord e, Ord a) =&gt; Eq (Validation e a)
forall e a.
(Ord e, Ord a) =&gt;
Validation e a -&gt; Validation e a -&gt; Bool
forall e a.
(Ord e, Ord a) =&gt;
Validation e a -&gt; Validation e a -&gt; Ordering
forall e a.
(Ord e, Ord a) =&gt;
Validation e a -&gt; Validation e a -&gt; Validation e a
$ccompare :: forall e a.
(Ord e, Ord a) =&gt;
Validation e a -&gt; Validation e a -&gt; Ordering
compare :: Validation e a -&gt; Validation e a -&gt; Ordering
$c&lt; :: forall e a.
(Ord e, Ord a) =&gt;
Validation e a -&gt; Validation e a -&gt; Bool
&lt; :: Validation e a -&gt; Validation e a -&gt; Bool
$c&lt;= :: forall e a.
(Ord e, Ord a) =&gt;
Validation e a -&gt; Validation e a -&gt; Bool
&lt;= :: Validation e a -&gt; Validation e a -&gt; Bool
$c&gt; :: forall e a.
(Ord e, Ord a) =&gt;
Validation e a -&gt; Validation e a -&gt; Bool
&gt; :: Validation e a -&gt; Validation e a -&gt; Bool
$c&gt;= :: forall e a.
(Ord e, Ord a) =&gt;
Validation e a -&gt; Validation e a -&gt; Bool
&gt;= :: Validation e a -&gt; Validation e a -&gt; Bool
$cmax :: forall e a.
(Ord e, Ord a) =&gt;
Validation e a -&gt; Validation e a -&gt; Validation e a
max :: Validation e a -&gt; Validation e a -&gt; Validation e a
$cmin :: forall e a.
(Ord e, Ord a) =&gt;
Validation e a -&gt; Validation e a -&gt; Validation e a
min :: Validation e a -&gt; Validation e a -&gt; Validation e a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679047753"><span id="local-6989586621679047760"><span id="local-6989586621679047764"><span class="annot"><span class="annottext">Int -&gt; Validation e a -&gt; ShowS
[Validation e a] -&gt; ShowS
Validation e a -&gt; String
(Int -&gt; Validation e a -&gt; ShowS)
-&gt; (Validation e a -&gt; String)
-&gt; ([Validation e a] -&gt; ShowS)
-&gt; Show (Validation e a)
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
forall e a. (Show e, Show a) =&gt; Int -&gt; Validation e a -&gt; ShowS
forall e a. (Show e, Show a) =&gt; [Validation e a] -&gt; ShowS
forall e a. (Show e, Show a) =&gt; Validation e a -&gt; String
$cshowsPrec :: forall e a. (Show e, Show a) =&gt; Int -&gt; Validation e a -&gt; ShowS
showsPrec :: Int -&gt; Validation e a -&gt; ShowS
$cshow :: forall e a. (Show e, Show a) =&gt; Validation e a -&gt; String
show :: Validation e a -&gt; String
$cshowList :: forall e a. (Show e, Show a) =&gt; [Validation e a] -&gt; ShowS
showList :: [Validation e a] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679047768"><span id="local-6989586621679047770"><span class="annot"><span class="annottext">(forall x. Validation e a -&gt; Rep (Validation e a) x)
-&gt; (forall x. Rep (Validation e a) x -&gt; Validation e a)
-&gt; Generic (Validation e a)
forall x. Rep (Validation e a) x -&gt; Validation e a
forall x. Validation e a -&gt; Rep (Validation e a) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall e a x. Rep (Validation e a) x -&gt; Validation e a
forall e a x. Validation e a -&gt; Rep (Validation e a) x
$cfrom :: forall e a x. Validation e a -&gt; Rep (Validation e a) x
from :: forall x. Validation e a -&gt; Rep (Validation e a) x
$cto :: forall e a x. Rep (Validation e a) x -&gt; Validation e a
to :: forall x. Rep (Validation e a) x -&gt; Validation e a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679047774"><span id="local-6989586621679047776"><span class="annot"><span class="annottext">(forall a. Validation e a -&gt; Rep1 (Validation e) a)
-&gt; (forall a. Rep1 (Validation e) a -&gt; Validation e a)
-&gt; Generic1 (Validation e)
forall a. Rep1 (Validation e) a -&gt; Validation e a
forall a. Validation e a -&gt; Rep1 (Validation e) a
forall e a. Rep1 (Validation e) a -&gt; Validation e a
forall e a. Validation e a -&gt; Rep1 (Validation e) a
forall k (f :: k -&gt; *).
(forall (a :: k). f a -&gt; Rep1 f a)
-&gt; (forall (a :: k). Rep1 f a -&gt; f a) -&gt; Generic1 f
$cfrom1 :: forall e a. Validation e a -&gt; Rep1 (Validation e) a
from1 :: forall a. Validation e a -&gt; Rep1 (Validation e) a
$cto1 :: forall e a. Rep1 (Validation e) a -&gt; Validation e a
to1 :: forall a. Rep1 (Validation e) a -&gt; Validation e a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic1</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679047786"><span id="local-6989586621679047790"><span id="local-6989586621679047794"><span id="local-6989586621679047796"><span id="local-6989586621679047798"><span id="local-6989586621679047804"><span id="local-6989586621679047811"><span id="local-6989586621679047814"><span id="local-6989586621679047817"><span id="local-6989586621679047820"><span id="local-6989586621679047823"><span id="local-6989586621679047826"><span id="local-6989586621679047831"><span id="local-6989586621679047836"><span class="annot"><span class="annottext">Typeable (Validation e a)
Typeable (Validation e a) =&gt;
(forall (c :: * -&gt; *).
 (forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
 -&gt; (forall g. g -&gt; c g) -&gt; Validation e a -&gt; c (Validation e a))
-&gt; (forall (c :: * -&gt; *).
    (forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
    -&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c (Validation e a))
-&gt; (Validation e a -&gt; Constr)
-&gt; (Validation e a -&gt; DataType)
-&gt; (forall (t :: * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d. Data d =&gt; c (t d)) -&gt; Maybe (c (Validation e a)))
-&gt; (forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d e. (Data d, Data e) =&gt; c (t d e))
    -&gt; Maybe (c (Validation e a)))
-&gt; ((forall b. Data b =&gt; b -&gt; b)
    -&gt; Validation e a -&gt; Validation e a)
-&gt; (forall r r'.
    (r -&gt; r' -&gt; r)
    -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Validation e a -&gt; r)
-&gt; (forall r r'.
    (r' -&gt; r -&gt; r)
    -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Validation e a -&gt; r)
-&gt; (forall u.
    (forall d. Data d =&gt; d -&gt; u) -&gt; Validation e a -&gt; [u])
-&gt; (forall u.
    Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; Validation e a -&gt; u)
-&gt; (forall (m :: * -&gt; *).
    Monad m =&gt;
    (forall d. Data d =&gt; d -&gt; m d)
    -&gt; Validation e a -&gt; m (Validation e a))
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d)
    -&gt; Validation e a -&gt; m (Validation e a))
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d)
    -&gt; Validation e a -&gt; m (Validation e a))
-&gt; Data (Validation e a)
Validation e a -&gt; Constr
Validation e a -&gt; DataType
(forall b. Data b =&gt; b -&gt; b) -&gt; Validation e a -&gt; Validation e a
forall a.
Typeable a =&gt;
(forall (c :: * -&gt; *).
 (forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
 -&gt; (forall g. g -&gt; c g) -&gt; a -&gt; c a)
-&gt; (forall (c :: * -&gt; *).
    (forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
    -&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c a)
-&gt; (a -&gt; Constr)
-&gt; (a -&gt; DataType)
-&gt; (forall (t :: * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d. Data d =&gt; c (t d)) -&gt; Maybe (c a))
-&gt; (forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
    Typeable t =&gt;
    (forall d e. (Data d, Data e) =&gt; c (t d e)) -&gt; Maybe (c a))
-&gt; ((forall b. Data b =&gt; b -&gt; b) -&gt; a -&gt; a)
-&gt; (forall r r'.
    (r -&gt; r' -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; a -&gt; r)
-&gt; (forall r r'.
    (r' -&gt; r -&gt; r) -&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; a -&gt; r)
-&gt; (forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; a -&gt; [u])
-&gt; (forall u. Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; a -&gt; u)
-&gt; (forall (m :: * -&gt; *).
    Monad m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; (forall (m :: * -&gt; *).
    MonadPlus m =&gt;
    (forall d. Data d =&gt; d -&gt; m d) -&gt; a -&gt; m a)
-&gt; Data a
forall u.
Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; Validation e a -&gt; u
forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; Validation e a -&gt; [u]
forall e a. (Data e, Data a) =&gt; Typeable (Validation e a)
forall e a. (Data e, Data a) =&gt; Validation e a -&gt; Constr
forall e a. (Data e, Data a) =&gt; Validation e a -&gt; DataType
forall e a.
(Data e, Data a) =&gt;
(forall b. Data b =&gt; b -&gt; b) -&gt; Validation e a -&gt; Validation e a
forall e a u.
(Data e, Data a) =&gt;
Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; Validation e a -&gt; u
forall e a u.
(Data e, Data a) =&gt;
(forall d. Data d =&gt; d -&gt; u) -&gt; Validation e a -&gt; [u]
forall e a r r'.
(Data e, Data a) =&gt;
(r -&gt; r' -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Validation e a -&gt; r
forall e a r r'.
(Data e, Data a) =&gt;
(r' -&gt; r -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Validation e a -&gt; r
forall e a (m :: * -&gt; *).
(Data e, Data a, Monad m) =&gt;
(forall d. Data d =&gt; d -&gt; m d)
-&gt; Validation e a -&gt; m (Validation e a)
forall e a (m :: * -&gt; *).
(Data e, Data a, MonadPlus m) =&gt;
(forall d. Data d =&gt; d -&gt; m d)
-&gt; Validation e a -&gt; m (Validation e a)
forall e a (c :: * -&gt; *).
(Data e, Data a) =&gt;
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c (Validation e a)
forall e a (c :: * -&gt; *).
(Data e, Data a) =&gt;
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; Validation e a -&gt; c (Validation e a)
forall e a (t :: * -&gt; *) (c :: * -&gt; *).
(Data e, Data a, Typeable t) =&gt;
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c (Validation e a))
forall e a (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
(Data e, Data a, Typeable t) =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e))
-&gt; Maybe (c (Validation e a))
forall r r'.
(r -&gt; r' -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Validation e a -&gt; r
forall r r'.
(r' -&gt; r -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Validation e a -&gt; r
forall (m :: * -&gt; *).
Monad m =&gt;
(forall d. Data d =&gt; d -&gt; m d)
-&gt; Validation e a -&gt; m (Validation e a)
forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d)
-&gt; Validation e a -&gt; m (Validation e a)
forall (c :: * -&gt; *).
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c (Validation e a)
forall (c :: * -&gt; *).
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; Validation e a -&gt; c (Validation e a)
forall (t :: * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c (Validation e a))
forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e))
-&gt; Maybe (c (Validation e a))
$cgfoldl :: forall e a (c :: * -&gt; *).
(Data e, Data a) =&gt;
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; Validation e a -&gt; c (Validation e a)
gfoldl :: forall (c :: * -&gt; *).
(forall d b. Data d =&gt; c (d -&gt; b) -&gt; d -&gt; c b)
-&gt; (forall g. g -&gt; c g) -&gt; Validation e a -&gt; c (Validation e a)
$cgunfold :: forall e a (c :: * -&gt; *).
(Data e, Data a) =&gt;
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c (Validation e a)
gunfold :: forall (c :: * -&gt; *).
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c (Validation e a)
$ctoConstr :: forall e a. (Data e, Data a) =&gt; Validation e a -&gt; Constr
toConstr :: Validation e a -&gt; Constr
$cdataTypeOf :: forall e a. (Data e, Data a) =&gt; Validation e a -&gt; DataType
dataTypeOf :: Validation e a -&gt; DataType
$cdataCast1 :: forall e a (t :: * -&gt; *) (c :: * -&gt; *).
(Data e, Data a, Typeable t) =&gt;
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c (Validation e a))
dataCast1 :: forall (t :: * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d. Data d =&gt; c (t d)) -&gt; Maybe (c (Validation e a))
$cdataCast2 :: forall e a (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
(Data e, Data a, Typeable t) =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e))
-&gt; Maybe (c (Validation e a))
dataCast2 :: forall (t :: * -&gt; * -&gt; *) (c :: * -&gt; *).
Typeable t =&gt;
(forall d e. (Data d, Data e) =&gt; c (t d e))
-&gt; Maybe (c (Validation e a))
$cgmapT :: forall e a.
(Data e, Data a) =&gt;
(forall b. Data b =&gt; b -&gt; b) -&gt; Validation e a -&gt; Validation e a
gmapT :: (forall b. Data b =&gt; b -&gt; b) -&gt; Validation e a -&gt; Validation e a
$cgmapQl :: forall e a r r'.
(Data e, Data a) =&gt;
(r -&gt; r' -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Validation e a -&gt; r
gmapQl :: forall r r'.
(r -&gt; r' -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Validation e a -&gt; r
$cgmapQr :: forall e a r r'.
(Data e, Data a) =&gt;
(r' -&gt; r -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Validation e a -&gt; r
gmapQr :: forall r r'.
(r' -&gt; r -&gt; r)
-&gt; r -&gt; (forall d. Data d =&gt; d -&gt; r') -&gt; Validation e a -&gt; r
$cgmapQ :: forall e a u.
(Data e, Data a) =&gt;
(forall d. Data d =&gt; d -&gt; u) -&gt; Validation e a -&gt; [u]
gmapQ :: forall u. (forall d. Data d =&gt; d -&gt; u) -&gt; Validation e a -&gt; [u]
$cgmapQi :: forall e a u.
(Data e, Data a) =&gt;
Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; Validation e a -&gt; u
gmapQi :: forall u.
Int -&gt; (forall d. Data d =&gt; d -&gt; u) -&gt; Validation e a -&gt; u
$cgmapM :: forall e a (m :: * -&gt; *).
(Data e, Data a, Monad m) =&gt;
(forall d. Data d =&gt; d -&gt; m d)
-&gt; Validation e a -&gt; m (Validation e a)
gmapM :: forall (m :: * -&gt; *).
Monad m =&gt;
(forall d. Data d =&gt; d -&gt; m d)
-&gt; Validation e a -&gt; m (Validation e a)
$cgmapMp :: forall e a (m :: * -&gt; *).
(Data e, Data a, MonadPlus m) =&gt;
(forall d. Data d =&gt; d -&gt; m d)
-&gt; Validation e a -&gt; m (Validation e a)
gmapMp :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d)
-&gt; Validation e a -&gt; m (Validation e a)
$cgmapMo :: forall e a (m :: * -&gt; *).
(Data e, Data a, MonadPlus m) =&gt;
(forall d. Data d =&gt; d -&gt; m d)
-&gt; Validation e a -&gt; m (Validation e a)
gmapMo :: forall (m :: * -&gt; *).
MonadPlus m =&gt;
(forall d. Data d =&gt; d -&gt; m d)
-&gt; Validation e a -&gt; m (Validation e a)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Data</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-349"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">anyclass</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679047847"><span class="annot"><span class="annottext">Validation e a -&gt; ()
(Validation e a -&gt; ()) -&gt; NFData (Validation e a)
forall a. (a -&gt; ()) -&gt; NFData a
forall e a. (NFData e, NFData a) =&gt; Validation e a -&gt; ()
$crnf :: forall e a. (NFData e, NFData a) =&gt; Validation e a -&gt; ()
rnf :: Validation e a -&gt; ()
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">NFData</span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679047866"><span class="annot"><span class="annottext">(forall a. (a -&gt; ()) -&gt; Validation e a -&gt; ())
-&gt; NFData1 (Validation e)
forall e a. NFData e =&gt; (a -&gt; ()) -&gt; Validation e a -&gt; ()
forall a. (a -&gt; ()) -&gt; Validation e a -&gt; ()
forall (f :: * -&gt; *).
(forall a. (a -&gt; ()) -&gt; f a -&gt; ()) -&gt; NFData1 f
$cliftRnf :: forall e a. NFData e =&gt; (a -&gt; ()) -&gt; Validation e a -&gt; ()
liftRnf :: forall a. (a -&gt; ()) -&gt; Validation e a -&gt; ()
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">NFData1</span></span></span><span class="hs-special">)</span><span>
</span><span id="line-350"></span><span>
</span><span id="line-351"></span><span class="annot"><span class="hs-comment">{- | Allows changing the value inside 'Success' with a given function.

__Examples__

&gt;&gt;&gt; fmap (+1) (Success 9)
Success 10
&gt;&gt;&gt; fmap (+1) (Failure [&quot;wrong&quot;])
Failure [&quot;wrong&quot;]
-}</span></span><span>
</span><span id="line-360"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679047401"><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047401"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-361"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">fmap</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679047885"><span id="local-6989586621679047886"><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679047885"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679047886"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047401"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047885"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047401"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047886"><span class="hs-identifier hs-type">b</span></a></span></span></span><span>
</span><span id="line-362"></span><span>    </span><span id="local-6989586621679047887"><span class="annot"><span class="annottext">fmap :: forall a b. (a -&gt; b) -&gt; Validation e a -&gt; Validation e b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">fmap</span></span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Validation.html#Failure"><span class="hs-identifier hs-type">Failure</span></a></span><span> </span><span id="local-6989586621679047888"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679047888"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">e -&gt; Validation e b
forall e a. e -&gt; Validation e a
</span><a href="Validation.html#Failure"><span class="hs-identifier hs-var">Failure</span></a></span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679047888"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-363"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">fmap</span></span><span> </span><span id="local-6989586621679047889"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679047889"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Validation.html#Success"><span class="hs-identifier hs-type">Success</span></a></span><span> </span><span id="local-6989586621679047890"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679047890"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b -&gt; Validation e b
forall e a. a -&gt; Validation e a
</span><a href="Validation.html#Success"><span class="hs-identifier hs-var">Success</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679047889"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679047890"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-364"></span><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">fmap</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-365"></span><span>
</span><span id="line-366"></span><span>    </span><span class="annot"><span class="hs-operator hs-type">(&lt;$)</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679047892"><span id="local-6989586621679047893"><span class="annot"><a href="#local-6989586621679047892"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047401"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047893"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047401"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047892"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-367"></span><span>    </span><span id="local-6989586621679047894"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679047894"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679047895"><span class="annot"><span class="annottext">&lt;$ :: forall a b. a -&gt; Validation e b -&gt; Validation e a
</span><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;$</span></span></span><span> </span><span class="annot"><a href="Validation.html#Success"><span class="hs-identifier hs-type">Success</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Validation e a
forall e a. a -&gt; Validation e a
</span><a href="Validation.html#Success"><span class="hs-identifier hs-var">Success</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679047894"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-368"></span><span>    </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;$</span></span><span> </span><span class="annot"><a href="Validation.html#Failure"><span class="hs-identifier hs-type">Failure</span></a></span><span> </span><span id="local-6989586621679047896"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679047896"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">e -&gt; Validation e a
forall e a. e -&gt; Validation e a
</span><a href="Validation.html#Failure"><span class="hs-identifier hs-var">Failure</span></a></span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679047896"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-369"></span><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">&lt;$</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-370"></span><span>
</span><span id="line-371"></span><span class="annot"><span class="hs-comment">{- | 'Semigroup' allows merging multiple 'Validation's into single one
by combining values inside both 'Failure' and 'Success'. The '&lt;&gt;'
operator merges two 'Validation's following the below rules:

1. If both values are 'Failure's, returns a new 'Failure' with
accumulated errors.
2. If both values are 'Success'ful, returns a new 'Success' with
combined success using 'Semigroup' for values inside 'Success'.
3. If one value is 'Failure' and another one is 'Success', then
'Failure' is returned.

__Examples__

&gt;&gt;&gt; success1 = Success [9] :: Validation [String] [Int]
&gt;&gt;&gt; success2 = Success [15] :: Validation [String] [Int]
&gt;&gt;&gt; failure1 = Failure [&quot;WRONG&quot;] :: Validation [String] [Int]
&gt;&gt;&gt; failure2 = Failure [&quot;FAIL&quot;]  :: Validation [String] [Int]

&gt;&gt;&gt; success1 &lt;&gt; success2
Success [9,15]
&gt;&gt;&gt; failure1 &lt;&gt; failure2
Failure [&quot;WRONG&quot;,&quot;FAIL&quot;]
&gt;&gt;&gt; success1 &lt;&gt; failure1
Failure [&quot;WRONG&quot;]
&gt;&gt;&gt; failure2 &lt;&gt; success1 &lt;&gt; success2 &lt;&gt; failure1
Failure [&quot;FAIL&quot;,&quot;WRONG&quot;]
-}</span></span><span>
</span><span id="line-398"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679047413"><span id="local-6989586621679047414"><span id="local-6989586621679047901"><span id="local-6989586621679047905"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Semigroup</span></span><span> </span><span class="annot"><a href="#local-6989586621679047413"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Semigroup</span></span><span> </span><span class="annot"><a href="#local-6989586621679047414"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Semigroup</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047413"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047414"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-399"></span><span>    </span><span class="annot"><span class="hs-operator hs-type">(&lt;&gt;)</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047413"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047414"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047413"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047414"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047413"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047414"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-400"></span><span>    </span><span id="local-6989586621679047913"><span class="annot"><span class="annottext">&lt;&gt; :: Validation e a -&gt; Validation e a -&gt; Validation e a
</span><span class="hs-operator hs-var hs-var hs-var hs-var">(&lt;&gt;)</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; a -&gt; a) -&gt; Validation e a -&gt; Validation e a -&gt; Validation e a
forall a b c.
(a -&gt; b -&gt; c) -&gt; Validation e a -&gt; Validation e b -&gt; Validation e c
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><span class="hs-identifier hs-var">liftA2</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(&lt;&gt;)</span></span><span>
</span><span id="line-401"></span><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">&lt;&gt;</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-402"></span><span>
</span><span id="line-403"></span><span class="annot"><span class="hs-comment">{- | @'mempty' :: 'Validation' e a@ is @Success@ which stores
@'mempty' :: a@ to be consistent with the 'Semigroup' instance.

__Examples__

&gt;&gt;&gt; mempty :: Validation String [Bool]
Success []
-}</span></span><span>
</span><span id="line-411"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679047423"><span id="local-6989586621679047424"><span id="local-6989586621679047923"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Semigroup</span></span><span> </span><span class="annot"><a href="#local-6989586621679047423"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679047424"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047423"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047424"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-412"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">mempty</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047423"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047424"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-413"></span><span>    </span><span id="local-6989586621679047929"><span class="annot"><span class="annottext">mempty :: Validation e a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">mempty</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Validation e a
forall e a. a -&gt; Validation e a
</span><a href="Validation.html#Success"><span class="hs-identifier hs-var">Success</span></a></span><span> </span><span class="annot"><span class="annottext">a
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-414"></span><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">mempty</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-415"></span><span>
</span><span id="line-416"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">mappend</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047423"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047424"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047423"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047424"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047423"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047424"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-417"></span><span>    </span><span id="local-6989586621679047931"><span class="annot"><span class="annottext">mappend :: Validation e a -&gt; Validation e a -&gt; Validation e a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">mappend</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Validation e a -&gt; Validation e a -&gt; Validation e a
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(&lt;&gt;)</span></span><span>
</span><span id="line-418"></span><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">mappend</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-419"></span><span>
</span><span id="line-420"></span><span class="annot"><span class="hs-comment">{- | This instance is the most important instance for the 'Validation' data
type. It's responsible for the many implementations. And it allows to accumulate
errors while performing validation or combining the results in the applicative
style.

__Examples__

&gt;&gt;&gt; success1 = Success 9 :: Validation [String] Int
&gt;&gt;&gt; success2 = Success 15 :: Validation [String] Int
&gt;&gt;&gt; successF = Success (* 2) :: Validation [String] (Int -&gt; Int)
&gt;&gt;&gt; failure1 = Failure [&quot;WRONG&quot;] :: Validation [String] Int
&gt;&gt;&gt; failure2 = Failure [&quot;FAIL&quot;]  :: Validation [String] Int

&gt;&gt;&gt; successF &lt;*&gt; success1
Success 18
&gt;&gt;&gt; successF &lt;*&gt; failure1
Failure [&quot;WRONG&quot;]
&gt;&gt;&gt; (+) &lt;$&gt; success1 &lt;*&gt; success2
Success 24
&gt;&gt;&gt; (+) &lt;$&gt; failure1 &lt;*&gt; failure2
Failure [&quot;WRONG&quot;,&quot;FAIL&quot;]
&gt;&gt;&gt; liftA2 (+) success1 failure1
Failure [&quot;WRONG&quot;]
&gt;&gt;&gt; liftA3 (,,) failure1 success1 failure2
Failure [&quot;WRONG&quot;,&quot;FAIL&quot;]

Implementations of all functions are lazy and they correctly work if some
arguments are not fully evaluated.

&gt;&gt;&gt; failure1 *&gt; failure2
Failure [&quot;WRONG&quot;,&quot;FAIL&quot;]
&gt;&gt;&gt; isFailure $ failure1 *&gt; failure2
True
&gt;&gt;&gt; epicFail = error &quot;Impossible validation&quot; :: Validation [String] Int
&gt;&gt;&gt; isFailure $ failure1 *&gt; epicFail
True
-}</span></span><span>
</span><span id="line-457"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679047415"><span class="annot"><span class="hs-identifier hs-type">Semigroup</span></span><span> </span><span class="annot"><a href="#local-6989586621679047415"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047415"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-458"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679047941"><span class="annot"><a href="#local-6989586621679047941"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047415"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047941"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-459"></span><span>    </span><span id="local-6989586621679047942"><span class="annot"><span class="annottext">pure :: forall a. a -&gt; Validation e a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">pure</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Validation e a
forall e a. a -&gt; Validation e a
</span><a href="Validation.html#Success"><span class="hs-identifier hs-var">Success</span></a></span><span>
</span><span id="line-460"></span><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">pure</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-461"></span><span>
</span><span id="line-462"></span><span>    </span><span class="annot"><span class="hs-operator hs-type">(&lt;*&gt;)</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679047943"><span id="local-6989586621679047944"><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047415"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679047943"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679047944"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047415"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047943"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047415"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047944"><span class="hs-identifier hs-type">b</span></a></span></span></span><span>
</span><span id="line-463"></span><span>    </span><span class="annot"><a href="Validation.html#Failure"><span class="hs-identifier hs-type">Failure</span></a></span><span> </span><span id="local-6989586621679047946"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679047946"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span id="local-6989586621679047947"><span class="annot"><span class="annottext">&lt;*&gt; :: forall a b.
Validation e (a -&gt; b) -&gt; Validation e a -&gt; Validation e b
</span><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;*&gt;</span></span></span><span> </span><span id="local-6989586621679047948"><span class="annot"><span class="annottext">Validation e a
</span><a href="#local-6989586621679047948"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">e -&gt; Validation e b
forall e a. e -&gt; Validation e a
</span><a href="Validation.html#Failure"><span class="hs-identifier hs-var">Failure</span></a></span><span> </span><span class="annot"><span class="annottext">(e -&gt; Validation e b) -&gt; e -&gt; Validation e b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Validation e a
</span><a href="#local-6989586621679047948"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-464"></span><span>        </span><span class="annot"><a href="Validation.html#Failure"><span class="hs-identifier hs-type">Failure</span></a></span><span> </span><span id="local-6989586621679047949"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679047949"><span class="hs-identifier hs-var">e2</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679047946"><span class="hs-identifier hs-var">e1</span></a></span><span> </span><span class="annot"><span class="annottext">e -&gt; e -&gt; e
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679047949"><span class="hs-identifier hs-var">e2</span></a></span><span>
</span><span id="line-465"></span><span>        </span><span class="annot"><a href="Validation.html#Success"><span class="hs-identifier hs-type">Success</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679047946"><span class="hs-identifier hs-var">e1</span></a></span><span>
</span><span id="line-466"></span><span>    </span><span class="annot"><a href="Validation.html#Success"><span class="hs-identifier hs-type">Success</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><a href="Validation.html#Failure"><span class="hs-identifier hs-type">Failure</span></a></span><span> </span><span id="local-6989586621679047950"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679047950"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">e -&gt; Validation e b
forall e a. e -&gt; Validation e a
</span><a href="Validation.html#Failure"><span class="hs-identifier hs-var">Failure</span></a></span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679047950"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-467"></span><span>    </span><span class="annot"><a href="Validation.html#Success"><span class="hs-identifier hs-type">Success</span></a></span><span> </span><span id="local-6989586621679047951"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679047951"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><a href="Validation.html#Success"><span class="hs-identifier hs-type">Success</span></a></span><span> </span><span id="local-6989586621679047952"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679047952"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b -&gt; Validation e b
forall e a. a -&gt; Validation e a
</span><a href="Validation.html#Success"><span class="hs-identifier hs-var">Success</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679047951"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679047952"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-468"></span><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">&lt;*&gt;</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-469"></span><span>
</span><span id="line-470"></span><span>    </span><span class="annot"><span class="hs-operator hs-type">(*&gt;)</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679047953"><span id="local-6989586621679047954"><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047415"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047953"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047415"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047954"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047415"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047954"><span class="hs-identifier hs-type">b</span></a></span></span></span><span>
</span><span id="line-471"></span><span>    </span><span class="annot"><a href="Validation.html#Failure"><span class="hs-identifier hs-type">Failure</span></a></span><span> </span><span id="local-6989586621679047956"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679047956"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span id="local-6989586621679047957"><span class="annot"><span class="annottext">*&gt; :: forall a b. Validation e a -&gt; Validation e b -&gt; Validation e b
</span><span class="hs-operator hs-var hs-var hs-var hs-var">*&gt;</span></span></span><span> </span><span id="local-6989586621679047958"><span class="annot"><span class="annottext">Validation e b
</span><a href="#local-6989586621679047958"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">e -&gt; Validation e b
forall e a. e -&gt; Validation e a
</span><a href="Validation.html#Failure"><span class="hs-identifier hs-var">Failure</span></a></span><span> </span><span class="annot"><span class="annottext">(e -&gt; Validation e b) -&gt; e -&gt; Validation e b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Validation e b
</span><a href="#local-6989586621679047958"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-472"></span><span>        </span><span class="annot"><a href="Validation.html#Failure"><span class="hs-identifier hs-type">Failure</span></a></span><span> </span><span id="local-6989586621679047959"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679047959"><span class="hs-identifier hs-var">e2</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679047956"><span class="hs-identifier hs-var">e1</span></a></span><span> </span><span class="annot"><span class="annottext">e -&gt; e -&gt; e
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679047959"><span class="hs-identifier hs-var">e2</span></a></span><span>
</span><span id="line-473"></span><span>        </span><span class="annot"><a href="Validation.html#Success"><span class="hs-identifier hs-type">Success</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><span class="hs-identifier">_</span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679047956"><span class="hs-identifier hs-var">e1</span></a></span><span>
</span><span id="line-474"></span><span>    </span><span class="annot"><a href="Validation.html#Success"><span class="hs-identifier hs-type">Success</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-operator hs-var">*&gt;</span></span><span> </span><span class="annot"><a href="Validation.html#Failure"><span class="hs-identifier hs-type">Failure</span></a></span><span> </span><span id="local-6989586621679047960"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679047960"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">e -&gt; Validation e b
forall e a. e -&gt; Validation e a
</span><a href="Validation.html#Failure"><span class="hs-identifier hs-var">Failure</span></a></span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679047960"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-475"></span><span>    </span><span class="annot"><a href="Validation.html#Success"><span class="hs-identifier hs-type">Success</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-operator hs-var">*&gt;</span></span><span> </span><span class="annot"><a href="Validation.html#Success"><span class="hs-identifier hs-type">Success</span></a></span><span> </span><span id="local-6989586621679047961"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679047961"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b -&gt; Validation e b
forall e a. a -&gt; Validation e a
</span><a href="Validation.html#Success"><span class="hs-identifier hs-var">Success</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679047961"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-476"></span><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">*&gt;</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-477"></span><span>
</span><span id="line-478"></span><span>    </span><span class="annot"><span class="hs-operator hs-type">(&lt;*)</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679047963"><span id="local-6989586621679047964"><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047415"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047963"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047415"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047964"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047415"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047963"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-479"></span><span>    </span><span class="annot"><a href="Validation.html#Failure"><span class="hs-identifier hs-type">Failure</span></a></span><span> </span><span id="local-6989586621679047966"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679047966"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span id="local-6989586621679047967"><span class="annot"><span class="annottext">&lt;* :: forall a b. Validation e a -&gt; Validation e b -&gt; Validation e a
</span><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;*</span></span></span><span> </span><span id="local-6989586621679047968"><span class="annot"><span class="annottext">Validation e b
</span><a href="#local-6989586621679047968"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">e -&gt; Validation e a
forall e a. e -&gt; Validation e a
</span><a href="Validation.html#Failure"><span class="hs-identifier hs-var">Failure</span></a></span><span> </span><span class="annot"><span class="annottext">(e -&gt; Validation e a) -&gt; e -&gt; Validation e a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Validation e b
</span><a href="#local-6989586621679047968"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-480"></span><span>        </span><span class="annot"><a href="Validation.html#Failure"><span class="hs-identifier hs-type">Failure</span></a></span><span> </span><span id="local-6989586621679047969"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679047969"><span class="hs-identifier hs-var">e2</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679047966"><span class="hs-identifier hs-var">e1</span></a></span><span> </span><span class="annot"><span class="annottext">e -&gt; e -&gt; e
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679047969"><span class="hs-identifier hs-var">e2</span></a></span><span>
</span><span id="line-481"></span><span>        </span><span class="annot"><a href="Validation.html#Success"><span class="hs-identifier hs-type">Success</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><span class="hs-identifier">_</span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679047966"><span class="hs-identifier hs-var">e1</span></a></span><span>
</span><span id="line-482"></span><span>    </span><span class="annot"><a href="Validation.html#Success"><span class="hs-identifier hs-type">Success</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;*</span></span><span> </span><span class="annot"><a href="Validation.html#Failure"><span class="hs-identifier hs-type">Failure</span></a></span><span> </span><span id="local-6989586621679047970"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679047970"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">e -&gt; Validation e a
forall e a. e -&gt; Validation e a
</span><a href="Validation.html#Failure"><span class="hs-identifier hs-var">Failure</span></a></span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679047970"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-483"></span><span>    </span><span class="annot"><a href="Validation.html#Success"><span class="hs-identifier hs-type">Success</span></a></span><span> </span><span id="local-6989586621679047971"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679047971"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;*</span></span><span> </span><span class="annot"><a href="Validation.html#Success"><span class="hs-identifier hs-type">Success</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Validation e a
forall e a. a -&gt; Validation e a
</span><a href="Validation.html#Success"><span class="hs-identifier hs-var">Success</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679047971"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-484"></span><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">&lt;*</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-485"></span><span>
</span><span id="line-486"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">liftA2</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679047972"><span id="local-6989586621679047973"><span id="local-6989586621679047974"><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679047972"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679047973"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679047974"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047415"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047972"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047415"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047973"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047415"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047974"><span class="hs-identifier hs-type">c</span></a></span></span></span></span><span>
</span><span id="line-487"></span><span>    </span><span id="local-6989586621679047976"><span class="annot"><span class="annottext">liftA2 :: forall a b c.
(a -&gt; b -&gt; c) -&gt; Validation e a -&gt; Validation e b -&gt; Validation e c
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">liftA2</span></span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b -&gt; c
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Validation.html#Failure"><span class="hs-identifier hs-type">Failure</span></a></span><span> </span><span id="local-6989586621679047977"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679047977"><span class="hs-identifier hs-var">e1</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679047978"><span class="annot"><span class="annottext">Validation e b
</span><a href="#local-6989586621679047978"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">e -&gt; Validation e c
forall e a. e -&gt; Validation e a
</span><a href="Validation.html#Failure"><span class="hs-identifier hs-var">Failure</span></a></span><span> </span><span class="annot"><span class="annottext">(e -&gt; Validation e c) -&gt; e -&gt; Validation e c
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Validation e b
</span><a href="#local-6989586621679047978"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-488"></span><span>        </span><span class="annot"><a href="Validation.html#Failure"><span class="hs-identifier hs-type">Failure</span></a></span><span> </span><span id="local-6989586621679047979"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679047979"><span class="hs-identifier hs-var">e2</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679047977"><span class="hs-identifier hs-var">e1</span></a></span><span> </span><span class="annot"><span class="annottext">e -&gt; e -&gt; e
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679047979"><span class="hs-identifier hs-var">e2</span></a></span><span>
</span><span id="line-489"></span><span>        </span><span class="annot"><a href="Validation.html#Success"><span class="hs-identifier hs-type">Success</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><span class="hs-identifier">_</span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679047977"><span class="hs-identifier hs-var">e1</span></a></span><span>
</span><span id="line-490"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">liftA2</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b -&gt; c
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Validation.html#Success"><span class="hs-identifier hs-type">Success</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Validation.html#Failure"><span class="hs-identifier hs-type">Failure</span></a></span><span> </span><span id="local-6989586621679047980"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679047980"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">e -&gt; Validation e c
forall e a. e -&gt; Validation e a
</span><a href="Validation.html#Failure"><span class="hs-identifier hs-var">Failure</span></a></span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679047980"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-491"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">liftA2</span></span><span> </span><span id="local-6989586621679047981"><span class="annot"><span class="annottext">a -&gt; b -&gt; c
</span><a href="#local-6989586621679047981"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Validation.html#Success"><span class="hs-identifier hs-type">Success</span></a></span><span> </span><span id="local-6989586621679047982"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679047982"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Validation.html#Success"><span class="hs-identifier hs-type">Success</span></a></span><span> </span><span id="local-6989586621679047983"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679047983"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">c -&gt; Validation e c
forall e a. a -&gt; Validation e a
</span><a href="Validation.html#Success"><span class="hs-identifier hs-var">Success</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; b -&gt; c
</span><a href="#local-6989586621679047981"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679047982"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679047983"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-492"></span><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">liftA2</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-493"></span><span>
</span><span id="line-494"></span><span class="annot"><span class="hs-comment">{- | 'Selective' functors from the [selective](https://hackage.haskell.org/package/selective)
package. This instance allows choosing which validations to apply
based on value inside. 'Validation' can't have a lawful 'Monad'
instance but it's highly desirable to have the monadic behavior in cases
when you want future checks depend on previous values. 'Selective'
allows to circumvent this limitation by providing the desired
behavior.

==== __Examples__

To understand better, how 'Selective' can be helpful, let's consider a
typical usage example with validating passwords.

&gt;&gt;&gt; :{
newtype Password = Password
    { unPassword :: String
    } deriving stock (Show)
:}

When user enters a password in some form, we want to check the
following conditions:

1. Password must not be empty.
2. Password must contain at least 8 characters.
3. Password must contain at least 1 digit.

As in the previous usage example with form validation, let's introduce
a custom data type to represent all possible errors.

&gt;&gt;&gt; :{
data PasswordValidationError
    = EmptyPassword
    | ShortPassword
    | NoDigitPassword
    deriving stock (Show)
:}

And, again, we can implement independent functions to validate all these cases:

&gt;&gt;&gt; type PasswordValidation = Validation (NonEmpty PasswordValidationError) Password

&gt;&gt;&gt; :{
validateEmptyPassword :: String -&gt; PasswordValidation
validateEmptyPassword password = Password password &lt;$
    failureIf (null password) EmptyPassword
:}

&gt;&gt;&gt; :{
validateShortPassword :: String -&gt; PasswordValidation
validateShortPassword password = Password password &lt;$
    failureIf (length password &lt; 8) ShortPassword
:}

&gt;&gt;&gt; :{
validatePasswordDigit :: String -&gt; PasswordValidation
validatePasswordDigit password = Password password &lt;$
    failureUnless (any isDigit password) NoDigitPassword
:}

And we can easily compose all these checks into single validation for
@Password@ using 'Applicative' instance:

&gt;&gt;&gt; :{
validatePassword :: String -&gt; PasswordValidation
validatePassword password =
    validateEmptyPassword password
    *&gt; validateShortPassword password
    *&gt; validatePasswordDigit password
:}

However, if we try using this function, we can notice a problem
immediately:

&gt;&gt;&gt; validatePassword &quot;&quot;
Failure (EmptyPassword :| [ShortPassword,NoDigitPassword])

Due to the nature of the 'Applicative' instance for 'Validation', we
run all checks and combine all possible errors. But you can notice
that if password is empty, it doesn't make sense to run other
validations. The fact that the password is empty implies that password
is shorter than 8 characters.

You may say that check for empty password is redundant because empty
password is a special case of a short password. However, when using
'Validation', we want to display readable and friendly errors to
users, so they know how to fix errors and can act correspondingly.

This behaviour could be achieved easily if 'Validation' had the
'Monad' instance. But it can't have a lawful 'Monad'
instance. Fortunately, the 'Selective' instance for 'Validation' can
help with our problem. But to solve it, we need to write our password
validation in a slightly different way.

First, we need to write a function that checks whether the password is
empty:

&gt;&gt;&gt; :{
checkEmptyPassword :: String -&gt; Validation e Bool
checkEmptyPassword = Success . null
:}

Now we can use the @ifS@ function from the @selective@ package to
branch on the result of @checkEmptyPassword@:

&gt;&gt;&gt; :{
validatePassword :: String -&gt; PasswordValidation
validatePassword password = ifS
    (checkEmptyPassword password)
    (failure EmptyPassword)
    (validateShortPassword password *&gt; validatePasswordDigit password)
:}

With this implementation we achieved our desired behavior:

&gt;&gt;&gt; validatePassword &quot;&quot;
Failure (EmptyPassword :| [])
&gt;&gt;&gt; validatePassword &quot;abc&quot;
Failure (ShortPassword :| [NoDigitPassword])
&gt;&gt;&gt; validatePassword &quot;abc123&quot;
Failure (ShortPassword :| [])
&gt;&gt;&gt; validatePassword &quot;security567&quot;
Success (Password {unPassword = &quot;security567&quot;})
-}</span></span><span>
</span><span id="line-617"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679047451"><span class="annot"><span class="hs-identifier hs-type">Semigroup</span></span><span> </span><span class="annot"><a href="#local-6989586621679047451"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Selective</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047451"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-618"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">select</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679047991"><span id="local-6989586621679047992"><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047451"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679047991"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047992"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047451"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679047991"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679047992"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047451"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047992"><span class="hs-identifier hs-type">b</span></a></span></span></span><span>
</span><span id="line-619"></span><span>    </span><span id="local-6989586621679047994"><span class="annot"><span class="annottext">select :: forall a b.
Validation e (Either a b)
-&gt; Validation e (a -&gt; b) -&gt; Validation e b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">select</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Validation.html#Failure"><span class="hs-identifier hs-type">Failure</span></a></span><span> </span><span id="local-6989586621679047995"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679047995"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="annot"><span class="annottext">Validation e (a -&gt; b)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">e -&gt; Validation e b
forall e a. e -&gt; Validation e a
</span><a href="Validation.html#Failure"><span class="hs-identifier hs-var">Failure</span></a></span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679047995"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-comment">-- Skip effect after failed conditions</span><span>
</span><span id="line-620"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">select</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Validation.html#Success"><span class="hs-identifier hs-type">Success</span></a></span><span> </span><span id="local-6989586621679047996"><span class="annot"><span class="annottext">Either a b
</span><a href="#local-6989586621679047996"><span class="hs-identifier hs-var">eab</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679047997"><span class="annot"><span class="annottext">Validation e (a -&gt; b)
</span><a href="#local-6989586621679047997"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Either a b
</span><a href="#local-6989586621679047996"><span class="hs-identifier hs-var">eab</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-621"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621679047998"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679047998"><span class="hs-identifier hs-var">a</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; a -&gt; b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679047998"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((a -&gt; b) -&gt; b) -&gt; Validation e (a -&gt; b) -&gt; Validation e b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Validation e (a -&gt; b)
</span><a href="#local-6989586621679047997"><span class="hs-identifier hs-var">f</span></a></span><span>  </span><span class="hs-comment">-- Apply second effect</span><span>
</span><span id="line-622"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621679048000"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679048000"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">b -&gt; Validation e b
forall e a. a -&gt; Validation e a
</span><a href="Validation.html#Success"><span class="hs-identifier hs-var">Success</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679048000"><span class="hs-identifier hs-var">b</span></a></span><span>    </span><span class="hs-comment">-- Skip second effect</span><span>
</span><span id="line-623"></span><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">select</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-624"></span><span>
</span><span id="line-625"></span><span class="annot"><span class="hs-comment">{- | This instance implements the behaviour when the first 'Success'
is returned. Otherwise all 'Failure's are combined.

__Examples__

&gt;&gt;&gt; success1 = Success [9] :: Validation [String] [Int]
&gt;&gt;&gt; success2 = Success [15] :: Validation [String] [Int]
&gt;&gt;&gt; failure1 = Failure [&quot;WRONG&quot;] :: Validation [String] [Int]
&gt;&gt;&gt; failure2 = Failure [&quot;FAIL&quot;]  :: Validation [String] [Int]

&gt;&gt;&gt; success1 &lt;|&gt; success2
Success [9]
&gt;&gt;&gt; failure1 &lt;|&gt; failure2
Failure [&quot;WRONG&quot;,&quot;FAIL&quot;]
&gt;&gt;&gt; failure2 &lt;|&gt; success2
Success [15]
-}</span></span><span>
</span><span id="line-642"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679047463"><span id="local-6989586621679048008"><span id="local-6989586621679048012"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679047463"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Alternative</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047463"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-643"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">empty</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679048016"><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047463"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048016"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-644"></span><span>    </span><span id="local-6989586621679048018"><span class="annot"><span class="annottext">empty :: forall a. Validation e a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">empty</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">e -&gt; Validation e a
forall e a. e -&gt; Validation e a
</span><a href="Validation.html#Failure"><span class="hs-identifier hs-var">Failure</span></a></span><span> </span><span class="annot"><span class="annottext">e
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-645"></span><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">empty</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-646"></span><span>
</span><span id="line-647"></span><span>    </span><span class="annot"><span class="hs-operator hs-type">(&lt;|&gt;)</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679048019"><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047463"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048019"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047463"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048019"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047463"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048019"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-648"></span><span>    </span><span id="local-6989586621679048021"><span class="annot"><span class="annottext">s :: Validation e a
</span><a href="#local-6989586621679048021"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="Validation.html#Success"><span class="hs-identifier hs-type">Success</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span id="local-6989586621679048022"><span class="annot"><span class="annottext">&lt;|&gt; :: forall a. Validation e a -&gt; Validation e a -&gt; Validation e a
</span><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;|&gt;</span></span></span><span> </span><span class="annot"><span class="annottext">Validation e a
</span><span class="hs-identifier">_</span></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Validation e a
</span><a href="#local-6989586621679048021"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-649"></span><span>    </span><span class="annot"><span class="annottext">Validation e a
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;|&gt;</span></span><span> </span><span id="local-6989586621679048023"><span class="annot"><span class="annottext">s :: Validation e a
</span><a href="#local-6989586621679048023"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="Validation.html#Success"><span class="hs-identifier hs-type">Success</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Validation e a
</span><a href="#local-6989586621679048023"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-650"></span><span>    </span><span class="annot"><a href="Validation.html#Failure"><span class="hs-identifier hs-type">Failure</span></a></span><span> </span><span id="local-6989586621679048024"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679048024"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;|&gt;</span></span><span> </span><span class="annot"><a href="Validation.html#Failure"><span class="hs-identifier hs-type">Failure</span></a></span><span> </span><span id="local-6989586621679048025"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679048025"><span class="hs-identifier hs-var">e'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">e -&gt; Validation e a
forall e a. e -&gt; Validation e a
</span><a href="Validation.html#Failure"><span class="hs-identifier hs-var">Failure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679048024"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">e -&gt; e -&gt; e
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679048025"><span class="hs-identifier hs-var">e'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-651"></span><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">&lt;|&gt;</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-652"></span><span>
</span><span id="line-653"></span><span class="annot"><span class="hs-comment">{- | 'Foldable' for 'Validation' allows folding values inside 'Success'.

__Examples__

&gt;&gt;&gt; fold (Success [16])
[16]
&gt;&gt;&gt; fold (Failure &quot;WRONG!&quot; :: Validation String [Int])
[]
-}</span></span><span>
</span><span id="line-662"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679047485"><span id="local-6989586621679048029"><span id="local-6989586621679048039"><span id="local-6989586621679048042"><span id="local-6989586621679048049"><span id="local-6989586621679048054"><span class="annot"><span class="hs-identifier hs-type">Foldable</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047485"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-663"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">fold</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679048062"><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679048062"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047485"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048062"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679048062"><span class="hs-identifier hs-type">m</span></a></span></span><span>
</span><span id="line-664"></span><span>    </span><span id="local-6989586621679048067"><span class="annot"><span class="annottext">fold :: forall m. Monoid m =&gt; Validation e m -&gt; m
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">fold</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-665"></span><span>        </span><span class="annot"><a href="Validation.html#Failure"><span class="hs-identifier hs-type">Failure</span></a></span><span> </span><span class="annot"><span class="annottext">e
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-666"></span><span>        </span><span class="annot"><a href="Validation.html#Success"><span class="hs-identifier hs-type">Success</span></a></span><span> </span><span id="local-6989586621679048068"><span class="annot"><span class="annottext">m
</span><a href="#local-6989586621679048068"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m
</span><a href="#local-6989586621679048068"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-667"></span><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">fold</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-668"></span><span>
</span><span id="line-669"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">foldMap</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679048070"><span id="local-6989586621679048071"><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679048070"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679048071"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679048070"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047485"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048071"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679048070"><span class="hs-identifier hs-type">m</span></a></span></span></span><span>
</span><span id="line-670"></span><span>    </span><span id="local-6989586621679048076"><span class="annot"><span class="annottext">foldMap :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Validation e a -&gt; m
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">foldMap</span></span></span><span> </span><span id="local-6989586621679048077"><span class="annot"><span class="annottext">a -&gt; m
</span><a href="#local-6989586621679048077"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-671"></span><span>        </span><span class="annot"><a href="Validation.html#Failure"><span class="hs-identifier hs-type">Failure</span></a></span><span> </span><span class="annot"><span class="annottext">e
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-672"></span><span>        </span><span class="annot"><a href="Validation.html#Success"><span class="hs-identifier hs-type">Success</span></a></span><span> </span><span id="local-6989586621679048078"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048078"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; m
</span><a href="#local-6989586621679048077"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048078"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-673"></span><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">foldMap</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-674"></span><span>
</span><span id="line-675"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">foldr</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679048080"><span id="local-6989586621679048081"><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679048080"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679048081"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679048081"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679048081"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047485"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048080"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679048081"><span class="hs-identifier hs-type">b</span></a></span></span></span><span>
</span><span id="line-676"></span><span>    </span><span id="local-6989586621679048082"><span class="annot"><span class="annottext">foldr :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Validation e a -&gt; b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">foldr</span></span></span><span> </span><span id="local-6989586621679048083"><span class="annot"><span class="annottext">a -&gt; b -&gt; b
</span><a href="#local-6989586621679048083"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679048084"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679048084"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-677"></span><span>        </span><span class="annot"><a href="Validation.html#Failure"><span class="hs-identifier hs-type">Failure</span></a></span><span> </span><span class="annot"><span class="annottext">e
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679048084"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-678"></span><span>        </span><span class="annot"><a href="Validation.html#Success"><span class="hs-identifier hs-type">Success</span></a></span><span> </span><span id="local-6989586621679048085"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048085"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; b -&gt; b
</span><a href="#local-6989586621679048083"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048085"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679048084"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-679"></span><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">foldr</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-680"></span><span>
</span><span id="line-681"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">foldr'</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679048087"><span id="local-6989586621679048088"><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679048087"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679048088"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679048088"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679048088"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047485"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048087"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679048088"><span class="hs-identifier hs-type">b</span></a></span></span></span><span>
</span><span id="line-682"></span><span>    </span><span id="local-6989586621679048090"><span class="annot"><span class="annottext">foldr' :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Validation e a -&gt; b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">foldr'</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; b -&gt; b) -&gt; b -&gt; Validation e a -&gt; b
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Validation e a -&gt; b
forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldr</span></span><span>
</span><span id="line-683"></span><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">foldr'</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-684"></span><span>
</span><span id="line-685"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">foldl</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679048092"><span id="local-6989586621679048093"><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679048092"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679048093"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679048092"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679048092"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047485"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048093"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679048092"><span class="hs-identifier hs-type">b</span></a></span></span></span><span>
</span><span id="line-686"></span><span>    </span><span id="local-6989586621679048094"><span class="annot"><span class="annottext">foldl :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Validation e a -&gt; b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">foldl</span></span></span><span> </span><span id="local-6989586621679048095"><span class="annot"><span class="annottext">b -&gt; a -&gt; b
</span><a href="#local-6989586621679048095"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679048096"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679048096"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-687"></span><span>        </span><span class="annot"><a href="Validation.html#Failure"><span class="hs-identifier hs-type">Failure</span></a></span><span> </span><span class="annot"><span class="annottext">e
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679048096"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-688"></span><span>        </span><span class="annot"><a href="Validation.html#Success"><span class="hs-identifier hs-type">Success</span></a></span><span> </span><span id="local-6989586621679048097"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048097"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">b -&gt; a -&gt; b
</span><a href="#local-6989586621679048095"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679048096"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048097"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-689"></span><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">foldl</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-690"></span><span>
</span><span id="line-691"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">foldl'</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679048099"><span id="local-6989586621679048100"><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679048099"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679048100"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679048099"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679048099"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047485"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048100"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679048099"><span class="hs-identifier hs-type">b</span></a></span></span></span><span>
</span><span id="line-692"></span><span>    </span><span id="local-6989586621679048102"><span class="annot"><span class="annottext">foldl' :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Validation e a -&gt; b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">foldl'</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(b -&gt; a -&gt; b) -&gt; b -&gt; Validation e a -&gt; b
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Validation e a -&gt; b
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldl</span></span><span>
</span><span id="line-693"></span><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">foldl'</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-694"></span><span>
</span><span id="line-695"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">toList</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679048104"><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047485"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048104"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679048104"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-696"></span><span>    </span><span id="local-6989586621679048105"><span class="annot"><span class="annottext">toList :: forall a. Validation e a -&gt; [a]
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">toList</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-697"></span><span>        </span><span class="annot"><a href="Validation.html#Failure"><span class="hs-identifier hs-type">Failure</span></a></span><span> </span><span class="annot"><span class="annottext">e
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-698"></span><span>        </span><span class="annot"><a href="Validation.html#Success"><span class="hs-identifier hs-type">Success</span></a></span><span> </span><span id="local-6989586621679048106"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048106"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048106"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-699"></span><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">toList</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-700"></span><span>
</span><span id="line-701"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">null</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679048108"><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047485"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048108"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span><span>
</span><span id="line-702"></span><span>    </span><span id="local-6989586621679048109"><span class="annot"><span class="annottext">null :: forall a. Validation e a -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">null</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-703"></span><span>        </span><span class="annot"><a href="Validation.html#Failure"><span class="hs-identifier hs-type">Failure</span></a></span><span> </span><span class="annot"><span class="annottext">e
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-704"></span><span>        </span><span class="annot"><a href="Validation.html#Success"><span class="hs-identifier hs-type">Success</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-705"></span><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">null</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-706"></span><span>
</span><span id="line-707"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">length</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679048110"><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047485"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048110"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span></span><span>
</span><span id="line-708"></span><span>    </span><span id="local-6989586621679048111"><span class="annot"><span class="annottext">length :: forall a. Validation e a -&gt; Int
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">length</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-709"></span><span>        </span><span class="annot"><a href="Validation.html#Failure"><span class="hs-identifier hs-type">Failure</span></a></span><span> </span><span class="annot"><span class="annottext">e
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-710"></span><span>        </span><span class="annot"><a href="Validation.html#Success"><span class="hs-identifier hs-type">Success</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-711"></span><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">length</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-712"></span><span>
</span><span id="line-713"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">elem</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679048113"><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="annot"><a href="#local-6989586621679048113"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679048113"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047485"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048113"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span><span>
</span><span id="line-714"></span><span>    </span><span id="local-6989586621679048118"><span class="annot"><span class="annottext">elem :: forall a. Eq a =&gt; a -&gt; Validation e a -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">elem</span></span></span><span> </span><span id="local-6989586621679048119"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048119"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-715"></span><span>        </span><span class="annot"><a href="Validation.html#Failure"><span class="hs-identifier hs-type">Failure</span></a></span><span> </span><span class="annot"><span class="annottext">e
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-716"></span><span>        </span><span class="annot"><a href="Validation.html#Success"><span class="hs-identifier hs-type">Success</span></a></span><span> </span><span id="local-6989586621679048120"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048120"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048119"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048120"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-717"></span><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">elem</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-718"></span><span>
</span><span id="line-719"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">sum</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679048122"><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="annot"><a href="#local-6989586621679048122"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047485"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048122"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679048122"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-720"></span><span>    </span><span id="local-6989586621679048127"><span class="annot"><span class="annottext">sum :: forall a. Num a =&gt; Validation e a -&gt; a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">sum</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-721"></span><span>        </span><span class="annot"><a href="Validation.html#Failure"><span class="hs-identifier hs-type">Failure</span></a></span><span> </span><span class="annot"><span class="annottext">e
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">0</span></span><span>
</span><span id="line-722"></span><span>        </span><span class="annot"><a href="Validation.html#Success"><span class="hs-identifier hs-type">Success</span></a></span><span> </span><span id="local-6989586621679048128"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048128"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048128"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-723"></span><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">sum</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-724"></span><span>
</span><span id="line-725"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">product</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679048130"><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="annot"><a href="#local-6989586621679048130"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047485"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048130"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679048130"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-726"></span><span>    </span><span id="local-6989586621679048135"><span class="annot"><span class="annottext">product :: forall a. Num a =&gt; Validation e a -&gt; a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">product</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-727"></span><span>        </span><span class="annot"><a href="Validation.html#Failure"><span class="hs-identifier hs-type">Failure</span></a></span><span> </span><span class="annot"><span class="annottext">e
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">1</span></span><span>
</span><span id="line-728"></span><span>        </span><span class="annot"><a href="Validation.html#Success"><span class="hs-identifier hs-type">Success</span></a></span><span> </span><span id="local-6989586621679048136"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048136"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048136"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-729"></span><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">product</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-730"></span><span>
</span><span id="line-731"></span><span>    </span><span class="hs-comment">-- not-implemented because they are partial, so we're using the</span><span>
</span><span id="line-732"></span><span>    </span><span class="hs-comment">-- default implementations</span><span>
</span><span id="line-733"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-734"></span><span>    </span><span class="hs-comment">-- foldr1  :: (a -&gt; a -&gt; a) -&gt; Validation e a -&gt; a</span><span>
</span><span id="line-735"></span><span>    </span><span class="hs-comment">-- foldl1  :: (a -&gt; a -&gt; a) -&gt; Validation e a -&gt; a</span><span>
</span><span id="line-736"></span><span>    </span><span class="hs-comment">-- maximum :: Ord a =&gt; Validation e a -&gt; a</span><span>
</span><span id="line-737"></span><span>    </span><span class="hs-comment">-- minimum :: Ord a =&gt; Validation e a -&gt; a</span><span>
</span><span id="line-738"></span><span>
</span><span id="line-739"></span><span class="annot"><span class="hs-comment">{- | Traverse values inside 'Success' with some effectful computation.

__Examples__

&gt;&gt;&gt; parseInt = readMaybe :: String -&gt; Maybe Int
&gt;&gt;&gt; traverse parseInt (Success &quot;42&quot;)
Just (Success 42)
&gt;&gt;&gt; traverse parseInt (Success &quot;int&quot;)
Nothing
&gt;&gt;&gt; traverse parseInt (Failure [&quot;42&quot;])
Just (Failure [&quot;42&quot;])
-}</span></span><span>
</span><span id="line-751"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679047523"><span id="local-6989586621679048144"><span id="local-6989586621679048150"><span class="annot"><span class="hs-identifier hs-type">Traversable</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047523"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-752"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">traverse</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679048156"><span id="local-6989586621679048157"><span id="local-6989586621679048158"><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="#local-6989586621679048156"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679048157"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679048156"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048158"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047523"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048157"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679048156"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047523"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048158"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-753"></span><span>    </span><span id="local-6989586621679048166"><span class="annot"><span class="annottext">traverse :: forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; Validation e a -&gt; f (Validation e b)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">traverse</span></span></span><span> </span><span id="local-6989586621679048167"><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679048167"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Validation.html#Success"><span class="hs-identifier hs-type">Success</span></a></span><span> </span><span id="local-6989586621679048168"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048168"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b -&gt; Validation e b
forall e a. a -&gt; Validation e a
</span><a href="Validation.html#Success"><span class="hs-identifier hs-var">Success</span></a></span><span> </span><span class="annot"><span class="annottext">(b -&gt; Validation e b) -&gt; f b -&gt; f (Validation e b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679048167"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048168"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-754"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">traverse</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; f b
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Validation.html#Failure"><span class="hs-identifier hs-type">Failure</span></a></span><span> </span><span id="local-6989586621679048169"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679048169"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Validation e b -&gt; f (Validation e b)
forall a. a -&gt; f a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">e -&gt; Validation e b
forall e a. e -&gt; Validation e a
</span><a href="Validation.html#Failure"><span class="hs-identifier hs-var">Failure</span></a></span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679048169"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-755"></span><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">traverse</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-756"></span><span>
</span><span id="line-757"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">sequenceA</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679048171"><span id="local-6989586621679048172"><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="#local-6989586621679048171"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047523"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679048171"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048172"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679048171"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047523"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048172"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-758"></span><span>    </span><span id="local-6989586621679048179"><span class="annot"><span class="annottext">sequenceA :: forall (f :: * -&gt; *) a.
Applicative f =&gt;
Validation e (f a) -&gt; f (Validation e a)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">sequenceA</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-759"></span><span>        </span><span class="annot"><a href="Validation.html#Failure"><span class="hs-identifier hs-type">Failure</span></a></span><span> </span><span id="local-6989586621679048180"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679048180"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Validation e a -&gt; f (Validation e a)
forall a. a -&gt; f a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">e -&gt; Validation e a
forall e a. e -&gt; Validation e a
</span><a href="Validation.html#Failure"><span class="hs-identifier hs-var">Failure</span></a></span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679048180"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-760"></span><span>        </span><span class="annot"><a href="Validation.html#Success"><span class="hs-identifier hs-type">Success</span></a></span><span> </span><span id="local-6989586621679048181"><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679048181"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; Validation e a
forall e a. a -&gt; Validation e a
</span><a href="Validation.html#Success"><span class="hs-identifier hs-var">Success</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Validation e a) -&gt; f a -&gt; f (Validation e a)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679048181"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-761"></span><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">sequenceA</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-762"></span><span>
</span><span id="line-763"></span><span class="annot"><span class="hs-comment">{- | Similar to 'Functor' but allows mapping of values inside both
'Failure' and 'Success'.

__Examples__

&gt;&gt;&gt; bimap length show (Success 50)
Success &quot;50&quot;
&gt;&gt;&gt; bimap length show (Failure [&quot;15&quot;, &quot;9&quot;])
Failure 2
-}</span></span><span>
</span><span id="line-773"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bifunctor</span></span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-774"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">bimap</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679048190"><span id="local-6989586621679048191"><span id="local-6989586621679048192"><span id="local-6989586621679048193"><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679048190"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679048191"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679048192"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679048193"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048190"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048192"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048191"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048193"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span><span>
</span><span id="line-775"></span><span>    </span><span id="local-6989586621679048194"><span class="annot"><span class="annottext">bimap :: forall a b c d.
(a -&gt; b) -&gt; (c -&gt; d) -&gt; Validation a c -&gt; Validation b d
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">bimap</span></span></span><span> </span><span id="local-6989586621679048195"><span class="annot"><span class="annottext">e -&gt; d
</span><a href="#local-6989586621679048195"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Validation.html#Failure"><span class="hs-identifier hs-type">Failure</span></a></span><span> </span><span id="local-6989586621679048196"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679048196"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">d -&gt; Validation d b
forall e a. e -&gt; Validation e a
</span><a href="Validation.html#Failure"><span class="hs-identifier hs-var">Failure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">e -&gt; d
</span><a href="#local-6989586621679048195"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679048196"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-776"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">bimap</span></span><span> </span><span class="annot"><span class="annottext">e -&gt; d
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679048197"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679048197"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Validation.html#Success"><span class="hs-identifier hs-type">Success</span></a></span><span> </span><span id="local-6989586621679048198"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048198"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b -&gt; Validation d b
forall e a. a -&gt; Validation e a
</span><a href="Validation.html#Success"><span class="hs-identifier hs-var">Success</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679048197"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048198"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-777"></span><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">bimap</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-778"></span><span>
</span><span id="line-779"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">first</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679048200"><span id="local-6989586621679048201"><span id="local-6989586621679048202"><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679048200"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679048201"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048200"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048202"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048201"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048202"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-780"></span><span>    </span><span id="local-6989586621679048203"><span class="annot"><span class="annottext">first :: forall a b c. (a -&gt; b) -&gt; Validation a c -&gt; Validation b c
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">first</span></span></span><span> </span><span id="local-6989586621679048204"><span class="annot"><span class="annottext">e -&gt; d
</span><a href="#local-6989586621679048204"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Validation.html#Failure"><span class="hs-identifier hs-type">Failure</span></a></span><span> </span><span id="local-6989586621679048205"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679048205"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">d -&gt; Validation d a
forall e a. e -&gt; Validation e a
</span><a href="Validation.html#Failure"><span class="hs-identifier hs-var">Failure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">e -&gt; d
</span><a href="#local-6989586621679048204"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679048205"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-781"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">first</span></span><span> </span><span class="annot"><span class="annottext">e -&gt; d
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Validation.html#Success"><span class="hs-identifier hs-type">Success</span></a></span><span> </span><span id="local-6989586621679048206"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048206"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Validation d a
forall e a. a -&gt; Validation e a
</span><a href="Validation.html#Success"><span class="hs-identifier hs-var">Success</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048206"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-782"></span><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">first</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-783"></span><span>
</span><span id="line-784"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">second</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679048208"><span id="local-6989586621679048209"><span id="local-6989586621679048210"><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679048208"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679048209"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048210"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048208"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048210"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048209"><span class="hs-identifier hs-type">b</span></a></span></span></span></span><span>
</span><span id="line-785"></span><span>    </span><span id="local-6989586621679048211"><span class="annot"><span class="annottext">second :: forall b c a. (b -&gt; c) -&gt; Validation a b -&gt; Validation a c
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">second</span></span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Validation.html#Failure"><span class="hs-identifier hs-type">Failure</span></a></span><span> </span><span id="local-6989586621679048212"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679048212"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">e -&gt; Validation e b
forall e a. e -&gt; Validation e a
</span><a href="Validation.html#Failure"><span class="hs-identifier hs-var">Failure</span></a></span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679048212"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-786"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">second</span></span><span> </span><span id="local-6989586621679048213"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679048213"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Validation.html#Success"><span class="hs-identifier hs-type">Success</span></a></span><span> </span><span id="local-6989586621679048214"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048214"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b -&gt; Validation e b
forall e a. a -&gt; Validation e a
</span><a href="Validation.html#Success"><span class="hs-identifier hs-var">Success</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679048213"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048214"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-787"></span><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">second</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-788"></span><span>
</span><span id="line-789"></span><span class="annot"><span class="hs-comment">{- | Similar to 'Foldable' but allows folding both 'Failure' and
'Success' to the same monoidal value according to given functions.

__Examples__

&gt;&gt;&gt; one x = [x]
&gt;&gt;&gt; bifoldMap id (one . show) (Success 15)
[&quot;15&quot;]
&gt;&gt;&gt; bifoldMap id (one . show) (Failure [&quot;Wrong&quot;, &quot;Fail&quot;])
[&quot;Wrong&quot;,&quot;Fail&quot;]
-}</span></span><span>
</span><span id="line-800"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679048216"><span id="local-6989586621679048223"><span id="local-6989586621679048226"><span class="annot"><span class="hs-identifier hs-type">Bifoldable</span></span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-801"></span><span class="hs-comment">--    bifoldMap :: (e -&gt; m) -&gt; (a -&gt; m) -&gt; Validation e a -&gt; m</span><span>
</span><span id="line-802"></span><span>    </span><span id="local-6989586621679048230"><span class="annot"><span class="annottext">bifoldMap :: forall m a b.
Monoid m =&gt;
(a -&gt; m) -&gt; (b -&gt; m) -&gt; Validation a b -&gt; m
</span><a href="#local-6989586621679048230"><span class="hs-identifier hs-var hs-var hs-var hs-var">bifoldMap</span></a></span></span><span> </span><span id="local-6989586621679048232"><span class="annot"><span class="annottext">a -&gt; m
</span><a href="#local-6989586621679048232"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="annot"><span class="annottext">b -&gt; m
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Validation.html#Failure"><span class="hs-identifier hs-type">Failure</span></a></span><span> </span><span id="local-6989586621679048233"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048233"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; m
</span><a href="#local-6989586621679048232"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048233"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-803"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">bifoldMap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; m
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679048234"><span class="annot"><span class="annottext">b -&gt; m
</span><a href="#local-6989586621679048234"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Validation.html#Success"><span class="hs-identifier hs-type">Success</span></a></span><span> </span><span id="local-6989586621679048235"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679048235"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b -&gt; m
</span><a href="#local-6989586621679048234"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679048235"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-804"></span><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">bifoldMap</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-805"></span><span>
</span><span id="line-806"></span><span class="annot"><span class="hs-comment">{- | Similar to 'Traversable' but traverses both 'Failure' and
'Success' with given effectful computations.

__Examples__

&gt;&gt;&gt; parseInt = readMaybe :: String -&gt; Maybe Int
&gt;&gt;&gt; bitraverse listToMaybe parseInt (Success &quot;42&quot;)
Just (Success 42)
&gt;&gt;&gt; bitraverse listToMaybe parseInt (Success &quot;int&quot;)
Nothing
&gt;&gt;&gt; bitraverse listToMaybe parseInt (Failure [15])
Just (Failure 15)
&gt;&gt;&gt; bitraverse listToMaybe parseInt (Failure [])
Nothing
-}</span></span><span>
</span><span id="line-821"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bitraversable</span></span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-822"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">bitraverse</span></span><span>
</span><span id="line-823"></span><span>        </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679048244"><span id="local-6989586621679048245"><span id="local-6989586621679048246"><span id="local-6989586621679048247"><span id="local-6989586621679048248"><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="#local-6989586621679048244"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-824"></span><span>        </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679048245"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679048244"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048246"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-825"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679048247"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679048244"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048248"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-826"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048245"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048247"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-827"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679048244"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048246"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048248"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-828"></span><span>    </span><span id="local-6989586621679048255"><span class="annot"><span class="annottext">bitraverse :: forall (f :: * -&gt; *) a c b d.
Applicative f =&gt;
(a -&gt; f c) -&gt; (b -&gt; f d) -&gt; Validation a b -&gt; f (Validation c d)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">bitraverse</span></span></span><span> </span><span id="local-6989586621679048256"><span class="annot"><span class="annottext">e -&gt; f d
</span><a href="#local-6989586621679048256"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="annot"><span class="annottext">a -&gt; f b
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Validation.html#Failure"><span class="hs-identifier hs-type">Failure</span></a></span><span> </span><span id="local-6989586621679048257"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679048257"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">d -&gt; Validation d b
forall e a. e -&gt; Validation e a
</span><a href="Validation.html#Failure"><span class="hs-identifier hs-var">Failure</span></a></span><span> </span><span class="annot"><span class="annottext">(d -&gt; Validation d b) -&gt; f d -&gt; f (Validation d b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">e -&gt; f d
</span><a href="#local-6989586621679048256"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679048257"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-829"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">bitraverse</span></span><span> </span><span class="annot"><span class="annottext">e -&gt; f d
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679048258"><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679048258"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Validation.html#Success"><span class="hs-identifier hs-type">Success</span></a></span><span> </span><span id="local-6989586621679048259"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048259"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b -&gt; Validation d b
forall e a. a -&gt; Validation e a
</span><a href="Validation.html#Success"><span class="hs-identifier hs-var">Success</span></a></span><span> </span><span class="annot"><span class="annottext">(b -&gt; Validation d b) -&gt; f b -&gt; f (Validation d b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679048258"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048259"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-830"></span><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">bitraverse</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-831"></span><span>
</span><span id="line-832"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NFData2</span></span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-833"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">liftRnf2</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679048264"><span id="local-6989586621679048265"><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679048264"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679048265"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048264"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048265"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-834"></span><span>    </span><span id="local-6989586621679048266"><span class="annot"><span class="annottext">liftRnf2 :: forall a b. (a -&gt; ()) -&gt; (b -&gt; ()) -&gt; Validation a b -&gt; ()
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">liftRnf2</span></span></span><span> </span><span id="local-6989586621679048267"><span class="annot"><span class="annottext">e -&gt; ()
</span><a href="#local-6989586621679048267"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679048268"><span class="annot"><span class="annottext">a -&gt; ()
</span><a href="#local-6989586621679048268"><span class="hs-identifier hs-var">_s</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Validation.html#Failure"><span class="hs-identifier hs-type">Failure</span></a></span><span> </span><span id="local-6989586621679048269"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679048269"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">e -&gt; ()
</span><a href="#local-6989586621679048267"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679048269"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-835"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">liftRnf2</span></span><span> </span><span id="local-6989586621679048270"><span class="annot"><span class="annottext">e -&gt; ()
</span><a href="#local-6989586621679048270"><span class="hs-identifier hs-var">_f</span></a></span></span><span> </span><span id="local-6989586621679048271"><span class="annot"><span class="annottext">a -&gt; ()
</span><a href="#local-6989586621679048271"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Validation.html#Success"><span class="hs-identifier hs-type">Success</span></a></span><span> </span><span id="local-6989586621679048272"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048272"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; ()
</span><a href="#local-6989586621679048271"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048272"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-836"></span><span>
</span><span id="line-837"></span><span class="hs-comment">----------------------------------------------------------------------------</span><span>
</span><span id="line-838"></span><span class="hs-comment">-- Custom errors</span><span>
</span><span id="line-839"></span><span class="hs-comment">----------------------------------------------------------------------------</span><span>
</span><span id="line-840"></span><span>
</span><span id="line-841"></span><span class="annot"><span class="hs-comment">{- | &#9888;&#65039;__CAUTION__&#9888;&#65039; This instance is for custom error display only.

It's not possible to implement lawful 'Monad' instance for 'Validation'.

In case it is used by mistake, the user will see the following:

&gt;&gt;&gt; Success 42 &gt;&gt;= \n -&gt; if even n then Success n else Failure [&quot;Not even&quot;]
...
... Type 'Validation' doesn't have lawful 'Monad' instance
      which means that you can't use 'Monad' methods with 'Validation'.
...
-}</span></span><span>
</span><span id="line-853"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679047597"><span id="local-6989586621679048279"><span class="hs-special">(</span><span class="annot"><a href="Validation.html#NoValidationMonadError"><span class="hs-identifier hs-type">NoValidationMonadError</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Semigroup</span></span><span> </span><span class="annot"><a href="#local-6989586621679047597"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047597"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-854"></span><span>    </span><span id="local-6989586621679048288"><span class="annot"><span class="annottext">return :: forall a. a -&gt; Validation e a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">return</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Validation e a
forall a. a -&gt; Validation e a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span>
</span><span id="line-855"></span><span>    </span><span id="local-6989586621679048291"><span class="annot"><span class="annottext">&gt;&gt;= :: forall a b.
Validation e a -&gt; (a -&gt; Validation e b) -&gt; Validation e b
</span><span class="hs-operator hs-var hs-var hs-var hs-var">(&gt;&gt;=)</span></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Validation e a -&gt; (a -&gt; Validation e b) -&gt; Validation e b
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Unreachable Validation instance of Monad&quot;</span></span><span>
</span><span id="line-856"></span><span>
</span><span id="line-857"></span><span class="annot"><span class="hs-comment">-- | Helper type family to produce error messages</span></span><span>
</span><span id="line-858"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="NoValidationMonadError"><span class="annot"><a href="Validation.html#NoValidationMonadError"><span class="hs-identifier hs-var">NoValidationMonadError</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Constraint</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-859"></span><span>    </span><span id="NoValidationMonadError"><span class="annot"><a href="Validation.html#NoValidationMonadError"><span class="hs-identifier hs-var">NoValidationMonadError</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TypeError</span></span><span>
</span><span id="line-860"></span><span>        </span><span class="hs-special">(</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Type 'Validation' doesn't have lawful 'Monad' instance&quot;</span></span><span>
</span><span id="line-861"></span><span>        </span><span class="hs-special">'</span><span class="hs-operator">:$$:</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;which means that you can't use 'Monad' methods with 'Validation'.&quot;</span></span><span>
</span><span id="line-862"></span><span>        </span><span class="hs-special">)</span><span>
</span><span id="line-863"></span><span>
</span><span id="line-864"></span><span class="hs-comment">----------------------------------------------------------------------------</span><span>
</span><span id="line-865"></span><span class="hs-comment">-- Either</span><span>
</span><span id="line-866"></span><span class="hs-comment">----------------------------------------------------------------------------</span><span>
</span><span id="line-867"></span><span>
</span><span id="line-868"></span><span class="annot"><span class="hs-comment">{- $either
'Validation' is usually compared to the 'Either' data type due to the similarity
in structure, nature and use case. Here is a quick table you can relate to, in
order to see the main properties and differences between these two data types:

+------------------------+---------------------------+---------------------------+
|                        | 'Either'                  | 'Validation'              |
+========================+===========================+===========================+
| Error result           | 'Left'                    | 'Failure'                 |
+------------------------+---------------------------+---------------------------+
| Successful result      | 'Right'                   | 'Success'                 |
+------------------------+---------------------------+---------------------------+
| 'Applicative' instance | Stops on the first 'Left' | Aggregates all 'Failure's |
+------------------------+---------------------------+---------------------------+
| 'Monad' instance       | Lawful instance           | __Cannot__ exist          |
+------------------------+---------------------------+---------------------------+

== Comparison in example

For the sake of better illustration of the difference between 'Either' and
'Validation', let's go through the example of how parsing is done with the usage of
these types.

Our goal is to parse two given 'String's and return their sum in case if both of
them are valid 'Int's. If any of the inputs is failing to be parsed we should
return the @ParseError@ which we are introducing right now:

&gt;&gt;&gt; :{
newtype ParseError = ParseError
    { nonParsedString :: String
    } deriving stock (Show)
:}

Let's first implement the parsing of single input in the 'Either' context:

&gt;&gt;&gt; :{
parseEither :: String -&gt; Either ParseError Int
parseEither input = case readMaybe @Int input of
    Just x  -&gt; Right x
    Nothing -&gt; Left $ ParseError input
:}

And the final function for 'Either' looks like this:

&gt;&gt;&gt; :{
parseSumEither :: String -&gt; String -&gt; Either ParseError Int
parseSumEither str1 str2 = do
    let x = parseEither str1
    let y = parseEither str2
    liftA2 (+) x y
:}

Let's now test it in action.

&gt;&gt;&gt; parseSumEither &quot;1&quot; &quot;2&quot;
Right 3
&gt;&gt;&gt; parseSumEither &quot;NaN&quot; &quot;42&quot;
Left (ParseError {nonParsedString = &quot;NaN&quot;})
&gt;&gt;&gt; parseSumEither &quot;15&quot; &quot;Infinity&quot;
Left (ParseError {nonParsedString = &quot;Infinity&quot;})
&gt;&gt;&gt; parseSumEither &quot;NaN&quot; &quot;infinity&quot;
Left (ParseError {nonParsedString = &quot;NaN&quot;})

__Note__ how in the case of both failed parsing we got only the first @NaN@.

To finish our comparison, let's implement the same functionality using
'Validation' properties.

&gt;&gt;&gt; :{
parseValidation :: String -&gt; Validation (NonEmpty ParseError) Int
parseValidation input = case readMaybe @Int input of
    Just x  -&gt; Success x
    Nothing -&gt; failure $ ParseError input
:}

&gt;&gt;&gt; :{
parseSumValidation :: String -&gt; String -&gt; Validation (NonEmpty ParseError) Int
parseSumValidation str1 str2 = do
    let x = parseValidation str1
    let y = parseValidation str2
    liftA2 (+) x y
:}

It looks almost completely identical except for the resulting type &#8212;
@'Validation' ('NonEmpty' ParseError) 'Int'@. But let's see if they behave the
same way:

&gt;&gt;&gt; parseSumValidation &quot;1&quot; &quot;2&quot;
Success 3
&gt;&gt;&gt; parseSumValidation &quot;NaN&quot; &quot;42&quot;
Failure (ParseError {nonParsedString = &quot;NaN&quot;} :| [])
&gt;&gt;&gt; parseSumValidation &quot;15&quot; &quot;infinity&quot;
Failure (ParseError {nonParsedString = &quot;infinity&quot;} :| [])
&gt;&gt;&gt; parseSumValidation &quot;NaN&quot; &quot;infinity&quot;
Failure (ParseError {nonParsedString = &quot;NaN&quot;} :| [ParseError {nonParsedString = &quot;infinity&quot;}])

As expected, with 'Validation' we got __all__ parse 'Failure's we received on
the way.

== Combinators

We are providing several functions for better integration with the 'Either'
related code in this section.
-}</span></span><span>
</span><span id="line-972"></span><span>
</span><span id="line-973"></span><span class="annot"><span class="hs-comment">{- | Transform a 'Validation' into an 'Either'.

&gt;&gt;&gt; validationToEither (Success &quot;whoop&quot;)
Right &quot;whoop&quot;

&gt;&gt;&gt; validationToEither (Failure &quot;nahh&quot;)
Left &quot;nahh&quot;
-}</span></span><span>
</span><span id="line-981"></span><span id="local-6989586621679047604"><span id="local-6989586621679047605"><span class="annot"><a href="Validation.html#validationToEither"><span class="hs-identifier hs-type">validationToEither</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047604"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047605"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679047604"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047605"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-982"></span><span id="validationToEither"><span class="annot"><span class="annottext">validationToEither :: forall e a. Validation e a -&gt; Either e a
</span><a href="Validation.html#validationToEither"><span class="hs-identifier hs-var hs-var">validationToEither</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-983"></span><span>    </span><span class="annot"><a href="Validation.html#Failure"><span class="hs-identifier hs-type">Failure</span></a></span><span> </span><span id="local-6989586621679048293"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679048293"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">e -&gt; Either e a
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679048293"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-984"></span><span>    </span><span class="annot"><a href="Validation.html#Success"><span class="hs-identifier hs-type">Success</span></a></span><span> </span><span id="local-6989586621679048294"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048294"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; Either e a
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048294"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-985"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Validation.html#validationToEither"><span class="hs-pragma hs-type">validationToEither</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-986"></span><span>
</span><span id="line-987"></span><span class="annot"><span class="hs-comment">{- | Transform an 'Either' into a 'Validation'.

&gt;&gt;&gt; eitherToValidation (Right &quot;whoop&quot;)
Success &quot;whoop&quot;

&gt;&gt;&gt; eitherToValidation (Left &quot;nahh&quot;)
Failure &quot;nahh&quot;
-}</span></span><span>
</span><span id="line-995"></span><span id="local-6989586621679047610"><span id="local-6989586621679047611"><span class="annot"><a href="Validation.html#eitherToValidation"><span class="hs-identifier hs-type">eitherToValidation</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679047610"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047611"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047610"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047611"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-996"></span><span id="eitherToValidation"><span class="annot"><span class="annottext">eitherToValidation :: forall e a. Either e a -&gt; Validation e a
</span><a href="Validation.html#eitherToValidation"><span class="hs-identifier hs-var hs-var">eitherToValidation</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-997"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621679048295"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679048295"><span class="hs-identifier hs-var">e</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">e -&gt; Validation e a
forall e a. e -&gt; Validation e a
</span><a href="Validation.html#Failure"><span class="hs-identifier hs-var">Failure</span></a></span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679048295"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-998"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621679048296"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048296"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; Validation e a
forall e a. a -&gt; Validation e a
</span><a href="Validation.html#Success"><span class="hs-identifier hs-var">Success</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048296"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-999"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Validation.html#eitherToValidation"><span class="hs-pragma hs-type">eitherToValidation</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-1000"></span><span>
</span><span id="line-1001"></span><span class="hs-comment">----------------------------------------------------------------------------</span><span>
</span><span id="line-1002"></span><span class="hs-comment">-- Interface</span><span>
</span><span id="line-1003"></span><span class="hs-comment">----------------------------------------------------------------------------</span><span>
</span><span id="line-1004"></span><span>
</span><span id="line-1005"></span><span class="annot"><span class="hs-comment">{- | Predicate on if the given 'Validation' is 'Failure'.

&gt;&gt;&gt; isFailure (Failure 'e')
True
&gt;&gt;&gt; isFailure (Success 'a')
False
-}</span></span><span>
</span><span id="line-1012"></span><span id="local-6989586621679048297"><span id="local-6989586621679048298"><span class="annot"><a href="Validation.html#isFailure"><span class="hs-identifier hs-type">isFailure</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048297"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048298"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span></span><span>
</span><span id="line-1013"></span><span id="isFailure"><span class="annot"><span class="annottext">isFailure :: forall e a. Validation e a -&gt; Bool
</span><a href="Validation.html#isFailure"><span class="hs-identifier hs-var hs-var">isFailure</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-1014"></span><span>    </span><span class="annot"><a href="Validation.html#Failure"><span class="hs-identifier hs-type">Failure</span></a></span><span> </span><span class="annot"><span class="annottext">e
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-1015"></span><span>    </span><span class="annot"><a href="Validation.html#Success"><span class="hs-identifier hs-type">Success</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-1016"></span><span>
</span><span id="line-1017"></span><span class="annot"><span class="hs-comment">{- | Predicate on if the given 'Validation' is 'Success'.

&gt;&gt;&gt; isSuccess (Success 'a')
True
&gt;&gt;&gt; isSuccess (Failure 'e')
False
-}</span></span><span>
</span><span id="line-1024"></span><span id="local-6989586621679048299"><span id="local-6989586621679048300"><span class="annot"><a href="Validation.html#isSuccess"><span class="hs-identifier hs-type">isSuccess</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048299"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048300"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span></span><span>
</span><span id="line-1025"></span><span id="isSuccess"><span class="annot"><span class="annottext">isSuccess :: forall e a. Validation e a -&gt; Bool
</span><a href="Validation.html#isSuccess"><span class="hs-identifier hs-var hs-var">isSuccess</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-1026"></span><span>    </span><span class="annot"><a href="Validation.html#Success"><span class="hs-identifier hs-type">Success</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-1027"></span><span>    </span><span class="annot"><a href="Validation.html#Failure"><span class="hs-identifier hs-type">Failure</span></a></span><span> </span><span class="annot"><span class="annottext">e
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-1028"></span><span>
</span><span id="line-1029"></span><span class="annot"><span class="hs-comment">{- | Transforms the value of the given 'Validation' into @x@ using provided
functions that can transform 'Failure' and 'Success' value into the resulting
type respectively.

&gt;&gt;&gt; let myValidation = validation (&lt;&gt; &quot; world!&quot;) (show . (* 10))
&gt;&gt;&gt; myValidation (Success 100)
&quot;1000&quot;
&gt;&gt;&gt; myValidation (Failure &quot;Hello&quot;)
&quot;Hello world!&quot;
-}</span></span><span>
</span><span id="line-1039"></span><span id="local-6989586621679047618"><span id="local-6989586621679047619"><span id="local-6989586621679047620"><span class="annot"><a href="Validation.html#validation"><span class="hs-identifier hs-type">validation</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679047618"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679047619"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679047620"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679047619"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047618"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047620"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679047619"><span class="hs-identifier hs-type">x</span></a></span></span></span></span><span>
</span><span id="line-1040"></span><span id="validation"><span class="annot"><span class="annottext">validation :: forall e x a. (e -&gt; x) -&gt; (a -&gt; x) -&gt; Validation e a -&gt; x
</span><a href="Validation.html#validation"><span class="hs-identifier hs-var hs-var">validation</span></a></span></span><span> </span><span id="local-6989586621679048301"><span class="annot"><span class="annottext">e -&gt; x
</span><a href="#local-6989586621679048301"><span class="hs-identifier hs-var">fe</span></a></span></span><span> </span><span id="local-6989586621679048302"><span class="annot"><span class="annottext">a -&gt; x
</span><a href="#local-6989586621679048302"><span class="hs-identifier hs-var">fa</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-1041"></span><span>    </span><span class="annot"><a href="Validation.html#Success"><span class="hs-identifier hs-type">Success</span></a></span><span> </span><span id="local-6989586621679048303"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048303"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; x
</span><a href="#local-6989586621679048302"><span class="hs-identifier hs-var">fa</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048303"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-1042"></span><span>    </span><span class="annot"><a href="Validation.html#Failure"><span class="hs-identifier hs-type">Failure</span></a></span><span> </span><span id="local-6989586621679048304"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679048304"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">e -&gt; x
</span><a href="#local-6989586621679048301"><span class="hs-identifier hs-var">fe</span></a></span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679048304"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1043"></span><span>
</span><span id="line-1044"></span><span class="annot"><span class="hs-comment">{- | Filters out all 'Failure' values into the new list of @e@s from the given
list of 'Validation's.

Note that the order is preserved.

&gt;&gt;&gt; failures [Failure &quot;Hello&quot;, Success 1, Failure &quot;world&quot;, Success 2, Failure &quot;!&quot; ]
[&quot;Hello&quot;,&quot;world&quot;,&quot;!&quot;]
-}</span></span><span>
</span><span id="line-1052"></span><span id="local-6989586621679047624"><span id="local-6989586621679047625"><span class="annot"><a href="Validation.html#failures"><span class="hs-identifier hs-type">failures</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047624"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047625"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679047624"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">]</span></span></span><span>
</span><span id="line-1053"></span><span id="failures"><span class="annot"><span class="annottext">failures :: forall e a. [Validation e a] -&gt; [e]
</span><a href="Validation.html#failures"><span class="hs-identifier hs-var hs-var">failures</span></a></span></span><span> </span><span id="local-6989586621679048305"><span class="annot"><span class="annottext">[Validation e a]
</span><a href="#local-6989586621679048305"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679048306"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Validation.html#Failure"><span class="hs-identifier hs-type">Failure</span></a></span><span> </span><span id="local-6989586621679048306"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679048306"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Validation e a]
</span><a href="#local-6989586621679048305"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1054"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Validation.html#failures"><span class="hs-pragma hs-type">failures</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-1055"></span><span>
</span><span id="line-1056"></span><span class="annot"><span class="hs-comment">{- | Filters out all 'Success' values into the new list of @a@s from the given
list of 'Validation's.

Note that the order is preserved.

&gt;&gt;&gt; successes [Failure &quot;Hello&quot;, Success 1, Failure &quot;world&quot;, Success 2, Failure &quot;!&quot; ]
[1,2]
-}</span></span><span>
</span><span id="line-1064"></span><span id="local-6989586621679047628"><span id="local-6989586621679047629"><span class="annot"><a href="Validation.html#successes"><span class="hs-identifier hs-type">successes</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047628"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047629"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679047629"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span></span></span><span>
</span><span id="line-1065"></span><span id="successes"><span class="annot"><span class="annottext">successes :: forall e a. [Validation e a] -&gt; [a]
</span><a href="Validation.html#successes"><span class="hs-identifier hs-var hs-var">successes</span></a></span></span><span> </span><span id="local-6989586621679048307"><span class="annot"><span class="annottext">[Validation e a]
</span><a href="#local-6989586621679048307"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048308"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Validation.html#Success"><span class="hs-identifier hs-type">Success</span></a></span><span> </span><span id="local-6989586621679048308"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048308"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Validation e a]
</span><a href="#local-6989586621679048307"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1066"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Validation.html#successes"><span class="hs-pragma hs-type">successes</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-1067"></span><span>
</span><span id="line-1068"></span><span class="annot"><span class="hs-comment">{- | Redistributes the given list of 'Validation's into two lists of @e@s and
@e@s, where the first list contains all values of 'Failure's and the second
one &#8212; 'Success'es correspondingly.

Note that the order is preserved.

&gt;&gt;&gt; partitionValidations [Failure &quot;Hello&quot;, Success 1, Failure &quot;world&quot;, Success 2, Failure &quot;!&quot; ]
([&quot;Hello&quot;,&quot;world&quot;,&quot;!&quot;],[1,2])
-}</span></span><span>
</span><span id="line-1077"></span><span id="local-6989586621679047632"><span id="local-6989586621679047633"><span class="annot"><a href="Validation.html#partitionValidations"><span class="hs-identifier hs-type">partitionValidations</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047632"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047633"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679047632"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679047633"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-1078"></span><span id="partitionValidations"><span class="annot"><span class="annottext">partitionValidations :: forall e a. [Validation e a] -&gt; ([e], [a])
</span><a href="Validation.html#partitionValidations"><span class="hs-identifier hs-var hs-var">partitionValidations</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Validation e a] -&gt; ([e], [a])
forall e a. [Validation e a] -&gt; ([e], [a])
</span><a href="#local-6989586621679048309"><span class="hs-identifier hs-var">go</span></a></span><span>
</span><span id="line-1079"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1080"></span><span>    </span><span id="local-6989586621679048310"><span id="local-6989586621679048311"><span class="annot"><a href="#local-6989586621679048309"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048310"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679048311"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679048310"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679048311"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-1081"></span><span>    </span><span id="local-6989586621679048309"><span class="annot"><span class="annottext">go :: forall e a. [Validation e a] -&gt; ([e], [a])
</span><a href="#local-6989586621679048309"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-1082"></span><span>    </span><span class="annot"><a href="#local-6989586621679048309"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Validation.html#Failure"><span class="hs-identifier hs-type">Failure</span></a></span><span> </span><span id="local-6989586621679048315"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679048315"><span class="hs-identifier hs-var">e</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679048316"><span class="annot"><span class="annottext">[Validation e a]
</span><a href="#local-6989586621679048316"><span class="hs-identifier hs-var">rest</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([e] -&gt; [e]) -&gt; ([e], [a]) -&gt; ([e], [a])
forall a b c. (a -&gt; b) -&gt; (a, c) -&gt; (b, c)
forall (p :: * -&gt; * -&gt; *) a b c.
Bifunctor p =&gt;
(a -&gt; b) -&gt; p a c -&gt; p b c
</span><span class="hs-identifier hs-var">first</span></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679048315"><span class="hs-identifier hs-var">e</span></a></span><span class="annot"><span class="annottext">e -&gt; [e] -&gt; [e]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(([e], [a]) -&gt; ([e], [a])) -&gt; ([e], [a]) -&gt; ([e], [a])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Validation e a] -&gt; ([e], [a])
forall e a. [Validation e a] -&gt; ([e], [a])
</span><a href="#local-6989586621679048309"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[Validation e a]
</span><a href="#local-6989586621679048316"><span class="hs-identifier hs-var">rest</span></a></span><span>
</span><span id="line-1083"></span><span>    </span><span class="annot"><a href="#local-6989586621679048309"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Validation.html#Success"><span class="hs-identifier hs-type">Success</span></a></span><span> </span><span id="local-6989586621679048317"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048317"><span class="hs-identifier hs-var">a</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679048318"><span class="annot"><span class="annottext">[Validation e a]
</span><a href="#local-6989586621679048318"><span class="hs-identifier hs-var">rest</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([a] -&gt; [a]) -&gt; ([e], [a]) -&gt; ([e], [a])
forall b c a. (b -&gt; c) -&gt; (a, b) -&gt; (a, c)
forall (p :: * -&gt; * -&gt; *) b c a.
Bifunctor p =&gt;
(b -&gt; c) -&gt; p a b -&gt; p a c
</span><span class="hs-identifier hs-var">second</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048317"><span class="hs-identifier hs-var">a</span></a></span><span class="annot"><span class="annottext">a -&gt; [a] -&gt; [a]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(([e], [a]) -&gt; ([e], [a])) -&gt; ([e], [a]) -&gt; ([e], [a])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Validation e a] -&gt; ([e], [a])
forall e a. [Validation e a] -&gt; ([e], [a])
</span><a href="#local-6989586621679048309"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[Validation e a]
</span><a href="#local-6989586621679048318"><span class="hs-identifier hs-var">rest</span></a></span><span>
</span><span id="line-1084"></span><span>
</span><span id="line-1085"></span><span class="annot"><span class="hs-comment">{- | Returns the contents of a 'Failure'-value or a default value otherwise.

&gt;&gt;&gt; fromFailure &quot;default&quot; (Failure &quot;failure&quot;)
&quot;failure&quot;
&gt;&gt;&gt; fromFailure &quot;default&quot; (Success 1)
&quot;default&quot;
-}</span></span><span>
</span><span id="line-1092"></span><span id="local-6989586621679047638"><span id="local-6989586621679047639"><span class="annot"><a href="Validation.html#fromFailure"><span class="hs-identifier hs-type">fromFailure</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679047638"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047638"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047639"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679047638"><span class="hs-identifier hs-type">e</span></a></span></span></span><span>
</span><span id="line-1093"></span><span id="fromFailure"><span class="annot"><span class="annottext">fromFailure :: forall e a. e -&gt; Validation e a -&gt; e
</span><a href="Validation.html#fromFailure"><span class="hs-identifier hs-var hs-var">fromFailure</span></a></span></span><span> </span><span class="annot"><span class="annottext">e
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Validation.html#Failure"><span class="hs-identifier hs-type">Failure</span></a></span><span> </span><span id="local-6989586621679048319"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679048319"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679048319"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1094"></span><span class="annot"><a href="Validation.html#fromFailure"><span class="hs-identifier hs-var">fromFailure</span></a></span><span> </span><span id="local-6989586621679048320"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679048320"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="annot"><span class="annottext">Validation e a
</span><span class="hs-identifier">_</span></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679048320"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1095"></span><span>
</span><span id="line-1096"></span><span class="annot"><span class="hs-comment">{- | Returns the contents of a 'Success'-value or a default value otherwise.

&gt;&gt;&gt; fromSuccess 42 (Success 1)
1
&gt;&gt;&gt; fromSuccess 42 (Failure &quot;failure&quot;)
42
-}</span></span><span>
</span><span id="line-1103"></span><span id="local-6989586621679047642"><span id="local-6989586621679047643"><span class="annot"><a href="Validation.html#fromSuccess"><span class="hs-identifier hs-type">fromSuccess</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679047642"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047643"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679047642"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679047642"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-1104"></span><span id="fromSuccess"><span class="annot"><span class="annottext">fromSuccess :: forall a e. a -&gt; Validation e a -&gt; a
</span><a href="Validation.html#fromSuccess"><span class="hs-identifier hs-var hs-var">fromSuccess</span></a></span></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Validation.html#Success"><span class="hs-identifier hs-type">Success</span></a></span><span> </span><span id="local-6989586621679048321"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048321"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048321"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-1105"></span><span class="annot"><a href="Validation.html#fromSuccess"><span class="hs-identifier hs-var">fromSuccess</span></a></span><span> </span><span id="local-6989586621679048322"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048322"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="annot"><span class="annottext">Validation e a
</span><span class="hs-identifier">_</span></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679048322"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-1106"></span><span>
</span><span id="line-1107"></span><span class="hs-comment">----------------------------------------------------------------------------</span><span>
</span><span id="line-1108"></span><span class="hs-comment">-- NonEmpty Combinators</span><span>
</span><span id="line-1109"></span><span class="hs-comment">----------------------------------------------------------------------------</span><span>
</span><span id="line-1110"></span><span>
</span><span id="line-1111"></span><span class="annot"><span class="hs-comment">{- $nonEmptyCombinators

When using 'Validation', we often work with the 'NonEmpty' list of errors, and
those lists will be concatenated later.

The following functions aim to help with writing more concise code.

For example, instead of (perfectly fine) code like:

&gt;&gt;&gt; :{
validateNameVerbose :: String -&gt; Validation (NonEmpty String) String
validateNameVerbose name
    | null name = Failure (&quot;Empty Name&quot; :| [])
    | otherwise = Success name
:}

one can write simply:

&gt;&gt;&gt; :{
validateNameSimple :: String -&gt; Validation (NonEmpty String) String
validateNameSimple name = name &lt;$ failureIf (null name) &quot;Empty Name&quot;
:}

-}</span></span><span>
</span><span id="line-1135"></span><span>
</span><span id="line-1136"></span><span class="annot"><span class="hs-comment">{- | Create a 'Failure' of 'NonEmpty' list with a single given error.

&gt;&gt;&gt; failure &quot;I am a failure&quot;
Failure (&quot;I am a failure&quot; :| [])
-}</span></span><span>
</span><span id="line-1141"></span><span id="local-6989586621679047646"><span id="local-6989586621679047647"><span class="annot"><a href="Validation.html#failure"><span class="hs-identifier hs-type">failure</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679047646"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span class="annot"><a href="#local-6989586621679047646"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679047647"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-1142"></span><span id="failure"><span class="annot"><span class="annottext">failure :: forall e a. e -&gt; Validation (NonEmpty e) a
</span><a href="Validation.html#failure"><span class="hs-identifier hs-var hs-var">failure</span></a></span></span><span> </span><span id="local-6989586621679048323"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679048323"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NonEmpty e -&gt; Validation (NonEmpty e) a
forall e a. e -&gt; Validation e a
</span><a href="Validation.html#Failure"><span class="hs-identifier hs-var">Failure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679048323"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">e -&gt; [e] -&gt; NonEmpty e
forall a. a -&gt; [a] -&gt; NonEmpty a
</span><span class="hs-operator hs-var">:|</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-1143"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Validation.html#failure"><span class="hs-pragma hs-type">failure</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-1144"></span><span>
</span><span id="line-1145"></span><span class="annot"><span class="hs-comment">{- | Returns a 'Failure' in case of the given predicate is 'True'.
Returns @'Success' ()@ otherwise.

&gt;&gt;&gt; let shouldFail = (==) &quot;I am a failure&quot;
&gt;&gt;&gt; failureIf (shouldFail &quot;I am a failure&quot;) &quot;I told you so&quot;
Failure (&quot;I told you so&quot; :| [])
&gt;&gt;&gt; failureIf (shouldFail &quot;I am NOT a failure&quot;) &quot;okay&quot;
Success ()
-}</span></span><span>
</span><span id="line-1154"></span><span id="local-6989586621679047651"><span class="annot"><a href="Validation.html#failureIf"><span class="hs-identifier hs-type">failureIf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679047651"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span class="annot"><a href="#local-6989586621679047651"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-1155"></span><span id="failureIf"><span class="annot"><span class="annottext">failureIf :: forall e. Bool -&gt; e -&gt; Validation (NonEmpty e) ()
</span><a href="Validation.html#failureIf"><span class="hs-identifier hs-var hs-var">failureIf</span></a></span></span><span> </span><span id="local-6989586621679048325"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679048325"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679048326"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679048326"><span class="hs-identifier hs-var">e</span></a></span></span><span>
</span><span id="line-1156"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679048325"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">e -&gt; Validation (NonEmpty e) ()
forall e a. e -&gt; Validation (NonEmpty e) a
</span><a href="Validation.html#failure"><span class="hs-identifier hs-var">failure</span></a></span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679048326"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1157"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; Validation (NonEmpty e) ()
forall e a. a -&gt; Validation e a
</span><a href="Validation.html#Success"><span class="hs-identifier hs-var">Success</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1158"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Validation.html#failureIf"><span class="hs-pragma hs-type">failureIf</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-1159"></span><span>
</span><span id="line-1160"></span><span class="annot"><span class="hs-comment">{- | Returns a 'Failure' unless the given predicate is 'True'.
Returns @'Success' ()@ in case of the predicate is satisfied.

Similar to 'failureIf' with the reversed predicate.

@
'failureUnless' p &#8801; 'failureIf' (not p)
@

&gt;&gt;&gt; let shouldFail = (==) &quot;I am a failure&quot;
&gt;&gt;&gt; failureUnless (shouldFail &quot;I am a failure&quot;) &quot;doesn't matter&quot;
Success ()
&gt;&gt;&gt; failureUnless (shouldFail &quot;I am NOT a failure&quot;) &quot;I told you so&quot;
Failure (&quot;I told you so&quot; :| [])
-}</span></span><span>
</span><span id="line-1175"></span><span id="local-6989586621679048327"><span class="annot"><a href="Validation.html#failureUnless"><span class="hs-identifier hs-type">failureUnless</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679048327"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Validation.html#Validation"><span class="hs-identifier hs-type">Validation</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span class="annot"><a href="#local-6989586621679048327"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-1176"></span><span id="failureUnless"><span class="annot"><span class="annottext">failureUnless :: forall e. Bool -&gt; e -&gt; Validation (NonEmpty e) ()
</span><a href="Validation.html#failureUnless"><span class="hs-identifier hs-var hs-var">failureUnless</span></a></span></span><span> </span><span id="local-6989586621679048328"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679048328"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679048329"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679048329"><span class="hs-identifier hs-var">e</span></a></span></span><span>
</span><span id="line-1177"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679048328"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; Validation (NonEmpty e) ()
forall e a. a -&gt; Validation e a
</span><a href="Validation.html#Success"><span class="hs-identifier hs-var">Success</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1178"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">e -&gt; Validation (NonEmpty e) ()
forall e a. e -&gt; Validation (NonEmpty e) a
</span><a href="Validation.html#failure"><span class="hs-identifier hs-var">failure</span></a></span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679048329"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1179"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Validation.html#failureUnless"><span class="hs-pragma hs-type">failureUnless</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-1180"></span></pre></body></html>